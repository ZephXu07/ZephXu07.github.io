<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Spring-Learning-Notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/Spring-Learning-Notes/" class="article-date">
  <time datetime="2020-01-23T15:23:16.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/Spring-Learning-Notes/">Spring-Learning-Notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Spring Learning Notes</p>
<p>Springä¸ªäººå­¦ä¹ ç¬”è®°(<a href="#advice">å»ºè®®</a>) </p>
<h2 id="part1-åˆè¯†"><a href="#part1-åˆè¯†" class="headerlink" title="part1 åˆè¯†"></a>part1 åˆè¯†</h2><h3 id="what"><a href="#what" class="headerlink" title="what"></a>what</h3><p> å¤§ç®¡å®¶Springæ˜¯äº2003 å¹´å…´èµ·çš„ä¸€ä¸ªè½»é‡çº§çš„Java å¼€æºæ¡†æ¶ï¼Œå®ƒç”±Rod<br>Johnsonåˆ›å»ºã€‚ä¼ ç»ŸJ2EEåº”ç”¨çš„å¼€å‘æ•ˆç‡ä½ï¼ŒSpringä½œä¸ºå¼€æºçš„ä¸­é—´ä»¶ï¼Œæä¾›J2EEåº”ç”¨çš„å„å±‚çš„è§£å†³æ–¹æ¡ˆï¼ŒSpringè´¯ç©¿äº†è¡¨ç°å±‚ã€ä¸šåŠ¡å±‚åŠæŒä¹…å±‚ï¼Œè€Œä¸æ˜¯ä»…ä»…ä¸“æ³¨äºæŸä¸€å±‚çš„æ–¹æ¡ˆã€‚å¯ä»¥è¯´Springæ˜¯ä¼ä¸šåº”ç”¨å¼€å‘çš„â€œä¸€ç«™å¼ï¼ˆfull-stackï¼‰â€é€‰æ‹©ã€‚ç„¶è€Œï¼ŒSpringå¹¶ä¸æƒ³å–ä»£é‚£äº›å·²æœ‰çš„æ¡†æ¶ï¼Œè€Œæ˜¯ä¸å®ƒä»¬æ— ç¼åœ°æ•´åˆã€‚</p>
<p>ç®€å•æ¥è¯´ï¼ŒSpringæ˜¯ä¸€ä¸ªè½»é‡çº§<strong>æ§åˆ¶åè½¬</strong>(IoC)å’Œ<strong>é¢å‘åˆ‡é¢</strong>(AOP)çš„<strong>å®¹å™¨</strong>æ¡†æ¶ã€‚</p>
<h3 id="why"><a href="#why" class="headerlink" title="why"></a>why</h3><p><strong>1ã€</strong> <strong>æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘</strong></p>
<p>é€šè¿‡Springæä¾›çš„IoCå®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»äº¤ç”±Springè¿›è¡Œæ§åˆ¶ï¼Œé¿å…ç¡¬ç¼–ç æ‰€é€ æˆçš„è¿‡åº¦ç¨‹åºè€¦åˆã€‚æœ‰äº†Springï¼Œç”¨æˆ·ä¸å¿…å†ä¸ºå•å®ä¾‹æ¨¡å¼ç±»ã€å±æ€§æ–‡ä»¶è§£æç­‰è¿™äº›å¾ˆåº•å±‚çš„éœ€æ±‚ç¼–å†™ä»£ç ï¼Œå¯ä»¥æ›´ä¸“æ³¨äºä¸Šå±‚çš„åº”ç”¨ã€‚</p>
<p><strong>2ã€</strong> <strong>AOPç¼–ç¨‹çš„æ”¯æŒ</strong></p>
<p>é€šè¿‡Springæä¾›çš„AOPåŠŸèƒ½ï¼Œæ–¹ä¾¿è¿›è¡Œé¢å‘åˆ‡é¢çš„ç¼–ç¨‹ï¼Œè®¸å¤šä¸å®¹æ˜“ç”¨ä¼ ç»ŸOOPå®ç°çš„åŠŸèƒ½å¯ä»¥é€šè¿‡AOPè½»æ¾åº”ä»˜ã€‚</p>
<p><strong>3ã€</strong> <strong>å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ</strong></p>
<p>åœ¨Springä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»å•è°ƒçƒ¦é—·çš„äº‹åŠ¡ç®¡ç†ä»£ç ä¸­è§£è„±å‡ºæ¥ï¼Œé€šè¿‡å£°æ˜å¼æ–¹å¼çµæ´»åœ°è¿›è¡Œäº‹åŠ¡çš„ç®¡ç†ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚</p>
<p><strong>4ã€</strong> <strong>æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯•</strong></p>
<p>å¯ä»¥ç”¨éå®¹å™¨ä¾èµ–çš„ç¼–ç¨‹æ–¹å¼è¿›è¡Œå‡ ä¹æ‰€æœ‰çš„æµ‹è¯•å·¥ä½œï¼Œåœ¨Springé‡Œï¼Œæµ‹è¯•ä¸å†æ˜¯æ˜‚è´µçš„æ“ä½œï¼Œè€Œæ˜¯éšæ‰‹å¯åšçš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼šSpringå¯¹Junit4æ”¯æŒï¼Œå¯ä»¥é€šè¿‡æ³¨è§£æ–¹ä¾¿çš„æµ‹è¯•Springç¨‹åºã€‚</p>
<p><strong>5ã€</strong> <strong>æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶</strong></p>
<p>Springä¸æ’æ–¥å„ç§ä¼˜ç§€çš„å¼€æºæ¡†æ¶ï¼Œç›¸åï¼ŒSpringå¯ä»¥é™ä½å„ç§æ¡†æ¶çš„ä½¿ç”¨éš¾åº¦ï¼ŒSpringæä¾›äº†å¯¹å„ç§ä¼˜ç§€æ¡†æ¶ï¼ˆå¦‚Strutsã€Hibernateã€MyBatis<br>ã€Hessianã€Quartzï¼‰ç­‰çš„ç›´æ¥æ”¯æŒã€‚</p>
<p><strong>6ã€</strong> <strong>é™ä½Java EE APIçš„ä½¿ç”¨éš¾åº¦</strong></p>
<p>Springå¯¹å¾ˆå¤šéš¾ç”¨çš„Java EE<br>APIï¼ˆå¦‚JDBCï¼ŒJavaMailï¼Œè¿œç¨‹è°ƒç”¨ç­‰ï¼‰æä¾›äº†ä¸€ä¸ªè–„è–„çš„å°è£…å±‚ï¼Œé€šè¿‡Springçš„ç®€æ˜“å°è£…ï¼Œè¿™äº›Java<br>EE APIçš„ä½¿ç”¨éš¾åº¦å¤§ä¸ºé™ä½ã€‚</p>
<h3 id="learn-what"><a href="#learn-what" class="headerlink" title="learn what"></a>learn what</h3><p>1ã€ äº†è§£Springæ¡†æ¶ã€IOCã€DIçš„æ¦‚å¿µï¼›</p>
<p>2ã€ æŒæ¡Springæ¡†æ¶æ­å»ºã€é…ç½®ä¸ä½¿ç”¨ï¼›</p>
<p>3ã€ æŒæ¡Springå®¹å™¨åˆ›å»ºä¸å¯¹è±¡ç®¡ç†ï¼›</p>
<p>4ã€ æŒæ¡Spring xmlé…ç½®å¼å¼€å‘ä¸æ³¨è§£å¼€å‘ï¼›</p>
<p>5ã€ æŒæ¡Spring AOPç›¸å…³çŸ¥è¯†ï¼›</p>
<p>6ã€ æŒæ¡SpringJDBCç›¸å…³çŸ¥è¯†ï¼›</p>
<p>7ã€ å°†Springé›†æˆé¡¹ç›®ä¸­è¿›è¡Œæµ‹è¯•ï¼›</p>
<p>ä»¥ä¸Šä¸‰ä¸ªæ®µä¸ºæˆªå–ä»–äººæ–‡æ¡£â€“&gt;</p>
<p><a href="http://www.sikiedu.com/my/course/267" target="_blank" rel="noopener">siki</a></p>
<h2 id="part2-Springæ¡†æ¶ä»‹ç»ä¸å…¥é—¨æ¡ˆä¾‹"><a href="#part2-Springæ¡†æ¶ä»‹ç»ä¸å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="part2 Springæ¡†æ¶ä»‹ç»ä¸å…¥é—¨æ¡ˆä¾‹"></a>part2 Springæ¡†æ¶ä»‹ç»ä¸å…¥é—¨æ¡ˆä¾‹</h2><p><img src="https://github.com/ZephXu07/IMG/raw/master/Spring.png" alt="Spring"></p>
<h3 id="1ã€-æ­å»ºSpring-HelloWorldé¡¹ç›®"><a href="#1ã€-æ­å»ºSpring-HelloWorldé¡¹ç›®" class="headerlink" title="1ã€ æ­å»ºSpring HelloWorldé¡¹ç›®"></a>1ã€ æ­å»ºSpring HelloWorldé¡¹ç›®</h3><p>a)<br><a href="http://repo.spring.io/release/org/springframework/spring/" target="_blank" rel="noopener">Springä¸‹è½½åœ°å€</a></p>
<p>b) å¯¼åŒ…ï¼šï¼ˆä»¥ä¸‹5ä¸ªåŒ…ç§°ä¸ºåŸºæœ¬åŒ…ï¼‰</p>
<p> i. æ ¸å¿ƒåŒ…ï¼šbeanã€contextã€coreã€expressionï¼›</p>
<p> ii. æ—¥å¿—åŒ…ï¼šapache.commons.logging</p>
<p> <strong>ï¼ï¼ï¼mavené¡¹ç›®ä¸­åœ¨pom.xmlæ–‡ä»¶ä¸­åŠ å…¥dependency</strong></p>
<p>c) å¼•å…¥çº¦æŸï¼šbeançº¦æŸå’Œå¼•å…¥ä¸»é…ç½®æ–‡ä»¶å¤´ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  <span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans       http://www.springframework.org/schema/beans/spring-beans.xsd "</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span>             |</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong>BUGï¼šorg.springframework.beans.factory.xml.XmlBeanDefinitionStoreException:<br>Line 3 in XML document from class path resource<br>[applicationContext.xml] is invalid; nested exception is<br>org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 59;<br>å·²ç»ä¸ºå…ƒç´  â€œbeansâ€ æŒ‡å®šå±æ€§ â€œxmlnsâ€ã€‚</strong></p>
</li>
<li><p><strong>é…ç½®æ–‡ä»¶å†™é”™ï¼</strong></p>
</li>
</ul>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/BUG%E4%BF%AE%E6%94%B9.png" alt="bugRepaired"></p>
<p>d) æµ‹è¯•ï¼šå°†è‡ªå®šä¹‰å¯¹è±¡ç”±è‡ªå·±åˆ›å»ºäº¤ç”±Springç®¡ç†ï¼›</p>
<ul>
<li><p>é¡¹ç›®ç»“æ„ï¼š</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/SpringProjectStructure.png" alt="é¡¹ç›®ç»“æ„"></p>
</li>
<li><p>æ²¡ä½¿ç”¨Springä¹‹å‰ï¼šè‡ªå·±new</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span>    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	User u = <span class="keyword">new</span> User();        </span><br><span class="line">	System.out.println(u);    </span><br><span class="line">&#125;             |</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨Springå®¹å™¨ï¼šspringå¸®å¿™ç®¡ç†å¯¹è±¡</p>
<ul>
<li><p>é…ç½®ï¼š<code>&lt;bean name=&quot;user&quot; class=&quot;com.zephxu.bean.User&quot;/&gt;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test2</span><span class="params">()</span> </span>&#123;    <span class="comment">//æ ¹æ®springé…ç½®æ–‡ä»¶è·å–å®¹å™¨å¯¹è±¡    </span></span><br><span class="line">	ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);<span class="comment">//ä»springå®¹å™¨ä¸­ä½¿ç”¨getBeanå–å¯¹è±¡   </span></span><br><span class="line">    User user1 = (User) ac.getBean(<span class="string">"user"</span>);</span><br><span class="line">    User user2 = ac.getBean(User<span class="class">.<span class="keyword">class</span>)</span>;    </span><br><span class="line">    System.out.println(user1 + <span class="string">"\n"</span> + user2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<h3 id="2ã€Spring-IoC-DIæ¦‚å¿µä»‹ç»ï¼šï¼ˆè¦å®ç°IOCä¾èµ–DIçš„æ”¯æŒï¼‰"><a href="#2ã€Spring-IoC-DIæ¦‚å¿µä»‹ç»ï¼šï¼ˆè¦å®ç°IOCä¾èµ–DIçš„æ”¯æŒï¼‰" class="headerlink" title="2ã€Spring-IoC | DIæ¦‚å¿µä»‹ç»ï¼šï¼ˆè¦å®ç°IOCä¾èµ–DIçš„æ”¯æŒï¼‰"></a>2ã€Spring-IoC | DIæ¦‚å¿µä»‹ç»ï¼šï¼ˆè¦å®ç°IOCä¾èµ–DIçš„æ”¯æŒï¼‰</h3><p><strong>IoCï¼ˆInversion of Controlï¼‰ï¼šç¼–ç¨‹æ€æƒ³ï¼Œæ–°çš„è®¾è®¡æ¨¡å¼ã€‚</strong></p>
<ul>
<li>åè½¬æ§åˆ¶ï¼šå°†æˆ‘ä»¬è‡ªå·±åˆ›å»ºå¯¹è±¡çš„å·¥ä½œäº¤ç»™Springå®¹å™¨å¸®æˆ‘ä»¬å®Œæˆï¼›</li>
<li>åè½¬ï¼šåˆ›å»ºå¯¹è±¡è¿™ä»½å·¥ä½œç”±æˆ‘ä»¬è‡ªå·±æ‰§è¡Œåè½¬ç»™Springå¸®æˆ‘ä»¬æ‰§è¡Œã€‚</li>
<li>æ§åˆ¶ï¼šç”±Springè´Ÿè´£åˆ›å»ºé”€æ¯å¯¹è±¡ï¼ŒæŒæ§å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç­‰ï¼Œéœ€è¦ä½¿ç”¨æ—¶å‘Springç”³è¯·å³å¯ã€‚</li>
</ul>
<p><strong>DIï¼ˆDependency<br>Injectionï¼‰ï¼šä¾èµ–æ³¨å…¥ï¼šå°†å€¼é€šè¿‡é…ç½®çš„æ–¹å¼ä¸ºå˜é‡åˆå§‹åŒ–/èµ‹å€¼(æ³¨å…¥)</strong></p>
<p>c) æ³¨å…¥æ–¹å¼ï¼šsetæ–¹æ³•æ³¨å…¥ã€æ„é€ æ³¨å…¥ã€å­—æ®µæ³¨å…¥(ä¸æ¨è)ï¼›</p>
<p>d) æ³¨å…¥ç±»å‹ï¼š</p>
<p> i. å€¼ç±»å‹(value) â€“ å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹ï¼›</p>
<p> ii. å¼•ç”¨ç±»å‹(ref) â€“ Stringã€è‡ªå®šä¹‰å¯¹è±¡ï¼›</p>
<p><code>&lt;property name=&quot;u_id&quot; value=&quot;7&quot;/&gt;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">User user1 = (User) ac.getBean(<span class="string">"user"</span>);</span><br><span class="line">User user2 = ac.getBean(User<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">System.out.println(user1 + <span class="string">"\n"</span> + user2);</span><br><span class="line">System.out.println(user1 == user2);</span><br></pre></td></tr></table></figure>

<p><strong>ç»“æœå¦‚ä¸‹ï¼ŒåŸå› æœªçŸ¥â€¦â€¦</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/zephxu-Snipaste_2019-09-28_16-29-59.png" alt="æœªçŸ¥åŸå› "></p>
<p><strong>åŸå› ï¼š</strong><a href="#é”š1">Scopeå±æ€§singletonå•ä¾‹</a></p>
<h2 id="part3-Springé…ç½®"><a href="#part3-Springé…ç½®" class="headerlink" title="part3 Springé…ç½® "></a>part3 Springé…ç½® </h2><h3 id="1ã€XMLé…ç½®"><a href="#1ã€XMLé…ç½®" class="headerlink" title="1ã€XMLé…ç½®"></a>1ã€XMLé…ç½®</h3><p> a) Beanå…ƒç´ ï¼šäº¤ç”±Springç®¡ç†çš„å¯¹è±¡éƒ½è¦é…ç½®åœ¨beanæ ‡ç­¾ä¸­ï¼›</p>
<p> i. Beanæ ‡ç­¾ä»‹ç»å’Œåˆ›å»ºæ–¹å¼ï¼š<strong>ç©ºå‚æ„é€ ï¼ˆå¸¸ç”¨ï¼‰</strong>ã€é™æ€å·¥å‚ã€åŠ¨æ€å·¥å‚ï¼›</p>
<p> ï¼ˆ1ï¼‰æ ‡ç­¾ä»‹ç»ï¼š</p>
<p>ä¸€ã€nameï¼šèµ·ä¸€ä¸ªåå­—ï¼Œé€šè¿‡å…¶æ¥åˆ©ç”¨å®¹å™¨è·å–å¯¹è±¡ï¼›å¯ä»¥ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼›å¯ä»¥é‡å¤ä½†ä¸æ¨èã€‚</p>
<p> äºŒã€idï¼šä¸nameä½œç”¨åŸºæœ¬ç›¸ä¼¼ï¼Œä½†ä¸æ¨èä½¿ç”¨ï¼›ä¸æ”¯æŒç‰¹æ®Šå­—ç¬¦ï¼›ä¸èƒ½é‡å¤ã€‚</p>
<p> ä¸‰ã€classï¼šè¢«ç®¡ç†çš„å¯¹è±¡çš„å…¨åŒ…åï¼ŒSpringé€šè¿‡æ­¤åŒ…åæ¥åˆ›å»ºå¯¹è±¡ã€‚</p>
<p> ï¼ˆ2ï¼‰ç©ºå‚æ„é€ ï¼šé»˜è®¤ï¼Œè‹¥æ²¡æœ‰ç©ºå‚æ–¹æ³•ä¼šæŠ¥é”™ã€‚</p>
<p> ä¸€ã€<code>public  User() {    System.out.println(&quot;Userç©ºå‚æ„é€ æ–¹æ³•&quot;);}</code></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/zephxu-Snipaste_2019-09-28_16-53-26.png" alt="."></p>
<p>äºŒã€ApplicationContexté…ç½®çš„æ‰€æœ‰beanå¯¹è±¡éƒ½ä¼šåœ¨å®¹å™¨è¢«åˆ›å»ºçš„æ—¶å€™åˆ›å»ºå‡ºæ¥ï¼Œå¦‚æœé…ç½®çš„beanè¾ƒå¤šï¼Œåœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ä¼šäº§ç”Ÿå†…å­˜è¿‡å¤§é—®é¢˜ï¼Œåœ¨ç¡¬ä»¶æ€§èƒ½è½åä½“ç°æ˜æ˜¾ã€‚</p>
<p> <strong>Springæä¾›å¼€å…³è§£å†³é—®é¢˜ï¼šå»¶è¿ŸåŠ è½½</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/zephxu-Snipaste_2019-09-28_17-04-17.png" alt="å»¶è¿ŸåŠ è½½"></p>
<p> ii. Scopeå±æ€§ä»‹ç»ï¼šsingletonã€protoptypeã€requestã€sessionï¼›</p>
<ul>
<li><p>ä¸Šé¢bugåŸå› ï¼šsingletonå•ä¾‹ï¼Œä¸ºé»˜è®¤ï¼Œåªåˆ›å»ºå•ä¸ªå¯¹è±¡ï¼Œä¸€èˆ¬é¡¹ç›®<br><img src="https://github.com/ZephXu07/IMG/raw/master/zephxu-Snipaste_2019-09-28_21-22-24.png" alt="singleton"></p>
</li>
<li><p>prototypeï¼Œå¤šä¾‹ï¼Œç›¸å¯¹singletonè€Œè¨€ï¼Œåœ¨è·å–çš„æ—¶å€™åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œç‰¹æ®Šé¡¹ç›®</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">User user1 = (User) ac.getBean(<span class="string">"user"</span>);</span><br><span class="line">User user2 = ac.getBean(User<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">System.out.println(user1 + <span class="string">"\n"</span> + user2);</span><br><span class="line">System.out.println(user1 == user2);</span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/ZephXu07/IMG/raw/master/zephxu-Snipaste_2019-09-28_21-29-03.png" alt="prototype"></p>
<ul>
<li><p>requestï¼šåœ¨webç¯å¢ƒä¸‹ï¼Œå¦‚æœscopeå±æ€§ä¸ºrequestï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸requestè¯·æ±‚ä¸€è‡´ã€‚</p>
</li>
<li><p>sessionï¼šåŒç†ã€‚</p>
<p>iii. é¡¹ç›®æœ‰éœ€æ±‚æ—¶åœ¨æ ‡ç­¾ä¸­æœ‰åˆå§‹åŒ–æ–¹æ³•init-methodå’Œ<br>é”€æ¯æ–¹æ³•destroy-methodï¼›</p>
<ul>
<li><code>init-method=&quot;userInit&quot; destroy-method=&quot;userDestroy&quot;</code></li>
<li><strong>å®¹å™¨å…³é—­åæ¿€æ´»destroyæ–¹æ³•ï¼Œå½“scopeé…ç½®ä¸æ˜¯singletonè€Œæ˜¯prototypeæ—¶ï¼Œé”€æ¯æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚</strong></li>
<li><strong>initæ–¹æ³•åœ¨å®¹å™¨åˆ›å»ºBeanå¯¹è±¡ä¹‹åç«‹å³è°ƒç”¨ï¼Œdestroyæ–¹æ³•åœ¨å®¹å™¨é”€æ¯å¯¹è±¡ä¹‹å‰è°ƒç”¨çš„ï¼Œè€Œä½¿ç”¨prototypeçš„è¯å¯¹è±¡æ˜¯ç”±ç”¨æˆ·ç®¡ç†çš„ã€‚</strong></li>
</ul>
<p>b) å±æ€§æ³¨å…¥ï¼š</p>
<p>i. Setæ–¹æ³•æ³¨å…¥ï¼š<strong>beanå¯¹è±¡ä¸­éœ€è¦æœ‰å¯¹åº”çš„setæ–¹æ³•ï¼</strong></p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å°†userå¯¹è±¡äº¤ç»™Springç®¡ç†å¹¶æ³¨å…¥å€¼ç±»å‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span>    </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"u_id"</span> <span class="attr">value</span>=<span class="string">"999"</span>/&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"u_username"</span> <span class="attr">value</span>=<span class="string">"é»„æºé’¦"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"u_password"</span> <span class="attr">value</span>=<span class="string">"511"</span>/&gt;</span>    </span><br><span class="line">    <span class="comment">&lt;!--å¼•ç”¨ç±»å‹æ³¨å…¥æ–¹å¼--&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"u_pet"</span> <span class="attr">ref</span>=<span class="string">"cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ³¨å…¥å¼•ç”¨ç±»å‹ä½¿ç”¨refï¼Œæ³¨å…¥å€¼ç±»å‹ä½¿ç”¨value--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ³¨å…¥å¼•ç”¨ç±»å‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"cat"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.bean.Pet"</span>&gt;</span>        </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"petType"</span> <span class="attr">value</span>=<span class="string">"ç‹¸èŠ±çŒ«"</span>/&gt;</span>        </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">value</span>=<span class="string">"é»‘ç™½ç›¸é—´"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>    |</span><br></pre></td></tr></table></figure>

<p> ii. æ„é€ å‡½æ•°æ³¨å…¥ï¼›</p>
<p>beanå¯¹è±¡ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String u_username, Pet u_pet)</span> </span>&#123;   </span><br><span class="line">	System.out.println(<span class="string">"æ–¹æ³•1ï¼šString, Pet"</span>);    </span><br><span class="line">	<span class="keyword">this</span>.u_username = u_username;    </span><br><span class="line">	<span class="keyword">this</span>.u_pet = u_pet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®xmlæ–‡ä»¶ä¸­ï¼šjava</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ„é€ æ–¹æ³•æ³¨å…¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"user1"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span>   </span><br><span class="line">    <span class="comment">&lt;!--nameä¸ºè°ƒç”¨æ„é€ å™¨ä¸­çš„å‚æ•°å--&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"u_username"</span> <span class="attr">value</span>=<span class="string">"å’¸é±¼"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"u_pet"</span> <span class="attr">ref</span>=<span class="string">"cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>è°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨ä½¿ç”¨xmlæ–‡ä»¶ä¸­é…ç½®çš„ç‰¹å®šçš„beanå¯¹è±¡çš„nameè€Œä¸æ˜¯ä½¿ç”¨User.classã€‚ï¼ˆä¸‹é¢BUGçš„åŸå› ä¹‹ä¸€ï¼‰</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test2</span><span class="params">()</span> </span>&#123;    </span><br><span class="line">	ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContextInjection.xml"</span>);</span><br><span class="line">    User user = (User)ac.getBean(<span class="string">"user1"</span>);<span class="comment">//ï¼æ­¤å¤„éœ€è¦æ³¨æ„ï¼    </span></span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼šå½“æœ‰å‚æ„é€ å™¨æœ‰å¤šä¸ªæ—¶ï¼Œå¦‚ä¸‹ï¼š</strong></p>
<p>beanå¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String u_username, Pet u_pet)</span> </span>&#123;        </span><br><span class="line">    System.out.println(<span class="string">"æ–¹æ³•1ï¼šString, Pet"</span>);        </span><br><span class="line">    <span class="keyword">this</span>.u_username = u_username;        </span><br><span class="line">    <span class="keyword">this</span>.u_pet = u_pet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Integer u_username, Pet u_pet)</span> </span>&#123;  </span><br><span class="line">    System.out.println(<span class="string">"æ–¹æ³•2ï¼šInteger, Pet"</span>);  </span><br><span class="line">    <span class="keyword">this</span>.u_username = u_username.toString(); </span><br><span class="line">    <span class="keyword">this</span>.u_pet = u_pet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Pet u_pet, Integer u_username)</span> </span>&#123;   </span><br><span class="line">    System.out.println(<span class="string">"æ–¹æ³•3ï¼šPet, Integer"</span>);</span><br><span class="line">    <span class="keyword">this</span>.u_username = u_username.toString(); </span><br><span class="line">    <span class="keyword">this</span>.u_pet = u_pet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>xmlæ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"user1"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span>    </span><br><span class="line"><span class="comment">&lt;!--typeå¯ä»¥æŒ‡å®šå‚æ•°ç±»å‹ï¼Œindexå¯ä»¥æŒ‡å®šå‚æ•°çš„ä½ç½®ï¼Œä»¥0ä¸‹æ ‡å¼€å§‹ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªå±æ€§æ¥è°ƒç”¨æƒ³è¦çš„ æ„é€ å™¨--&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"u_username"</span> <span class="attr">value</span>=<span class="string">"777"</span> <span class="attr">type</span>=<span class="string">"java.lang.Integer"</span> <span class="attr">index</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"u_pet"</span> <span class="attr">ref</span>=<span class="string">"cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p> iii. å¤æ‚ç±»å‹æ³¨å…¥ï¼šArrayã€Listã€Setã€Mapã€Properties</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¤æ‚ç±»å‹çš„æ³¨å…¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"collection"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.bean.MyCollection"</span>&gt;</span>    </span><br><span class="line">    <span class="comment">&lt;!--array--&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"array"</span>&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span><span class="comment">&lt;!--æ•°ç»„ç±»å‹ç‰¹æœ‰çš„æ ‡ç­¾ï¼Œæ³¨å…¥å¯¹è±¡--&gt;</span>          </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>phy<span class="tag">&lt;/<span class="name">value</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>xzf<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"cat"</span>/&gt;</span><span class="comment">&lt;!--åŒä¸Švalueå’Œrefæ ‡ç­¾ç”¨æ³•--&gt;</span>            </span><br><span class="line">            <span class="comment">&lt;!--å½“ä¸€ä¸ªå€¼æ—¶å¯ä»¥&lt;property name="array" value="123&gt;--&gt;</span>       </span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--list--&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"list"</span>&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>phy<span class="tag">&lt;/<span class="name">value</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>xzf<span class="tag">&lt;/<span class="name">value</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"cat"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"user"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"user1"</span>/&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span>    </span><br><span class="line">    <span class="comment">&lt;!--set--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"set"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>phy<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>xzf<span class="tag">&lt;/<span class="name">value</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"cat"</span> /&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"user"</span> /&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">"user1"</span> /&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span>    </span><br><span class="line">    <span class="comment">&lt;!--listï¼Œsetç”¨æ³•åŒarray--&gt;</span>    </span><br><span class="line">    <span class="comment">&lt;!--mapç‰¹æ®Š--&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"map"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"userpassword"</span> <span class="attr">value</span>=<span class="string">"10709991"</span>/&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key-ref</span>=<span class="string">"user1"</span> <span class="attr">value-ref</span>=<span class="string">"cat"</span>/&gt;</span>       </span><br><span class="line">            <span class="comment">&lt;!--ä¾æ®Mapçš„ç”¨æ³•ï¼Œéœ€è¦é”®å€¼å¯¹--&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span>    </span><br><span class="line">    <span class="comment">&lt;!--properties--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prop"</span>&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"boy"</span>&gt;</span>xzf<span class="tag">&lt;/<span class="name">prop</span>&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"girl"</span>&gt;</span>phy<span class="tag">&lt;/<span class="name">prop</span>&gt;</span>            </span><br><span class="line">            <span class="comment">&lt;!--ç±»ä¼¼é”®å€¼å¯¹ï¼Œä½†å€¼æ˜¯å†™åœ¨æ ‡ç­¾ä¸­--&gt;</span>        </span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>BUGï¼šNo qualifying bean of type â€˜com.zephxu.bean.Userâ€™ available:<br>expected single matching bean but found 2: user,user1</strong></p>
<p><strong>åŸå› ï¼š<a href="#é”š2">å¦‚ä¸Šï¼›</a></strong></p>
<h3 id="2ã€æ³¨è§£é…ç½®"><a href="#2ã€æ³¨è§£é…ç½®" class="headerlink" title="2ã€æ³¨è§£é…ç½®"></a>2ã€æ³¨è§£é…ç½®</h3><p>a) å¯¼åŒ…å’Œçº¦æŸï¼šåŸºæœ¬åŒ…ã€aopåŒ…+contextçº¦æŸï¼›</p>
<p>mavençš„pom.xmlæ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>applicationContext.xmlæ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span>       <span class="attr">xsi:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span>       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"</span>&gt;</span>   </span><br><span class="line">    <span class="comment">&lt;!--æ³¨è§£å¼€å‘--&gt;</span>    <span class="comment">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ base-package æ‰«æè¯¥åŒ…ä¸‹ä»¥åŠå­åŒ…çš„æ‰€æœ‰æ³¨è§£--&gt;</span>    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.zephxu.bean"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>b) å°†å¯¹è±¡æ³¨å†Œåˆ°å®¹å™¨å†…ï¼›</p>
<p>c) ç”¨æ³¨è§£é…ç½®Scopeå±æ€§ï¼›</p>
<p>d) æ³¨è§£é…ç½®init-methodä¸destroy-methodï¼›</p>
<p><strong>æ³¨è§£ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(<span class="string">"user2"</span>)</span><br><span class="line"><span class="meta">@Scope</span>(scopeName=<span class="string">"singleton"</span>)<span class="comment">//prototype</span></span><br><span class="line"><span class="comment">//åœ¨æ„é€ æ–¹æ³•åè°ƒç”¨@PostConstruct</span></span><br><span class="line"><span class="comment">//åœ¨é”€æ¯æ–¹æ³•å‰è°ƒç”¨@PreDestroy</span></span><br></pre></td></tr></table></figure>

<p><strong>ç­‰äºxmlä¸­ï¼š</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"user2"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.bean.User2"</span> <span class="attr">init-method</span>=<span class="string">"user2Init"</span> <span class="attr">destroy-method</span>=<span class="string">"user2Destroy"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span>()<span class="comment">//webå±‚</span></span><br><span class="line"><span class="meta">@Service</span>()<span class="comment">//serviceå±‚</span></span><br><span class="line"><span class="meta">@Repository</span>()<span class="comment">//daoå±‚</span></span><br></pre></td></tr></table></figure>

<p>eï¼‰ æ³¨è§£é…ç½®å±æ€§æ³¨å…¥ï¼Œå€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span>(value = <span class="string">"1226"</span>)</span><br><span class="line"><span class="keyword">private</span> Integer u_id;<span class="comment">//ä½¿ç”¨æš´åŠ›åå°„æ³¨å…¥@Value("ğŸ ")</span></span><br><span class="line"><span class="comment">//æ¨èåœ¨setæ–¹æ³•ä¸Šä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setU_username</span><span class="params">(String u_username)</span> </span>&#123; </span><br><span class="line">	<span class="keyword">this</span>.u_username = u_username;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//@Autowired//è‡ªåŠ¨è£…é…ï¼Œåªé€‚ç”¨äºä¸€ä¸ªPetå¯¹è±¡æ—¶</span></span><br><span class="line"><span class="meta">@Resource</span>(name = <span class="string">"è€å¥¶çŒ«"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setU_pet</span><span class="params">(Pet u_pet)</span> </span>&#123;   </span><br><span class="line">	<span class="keyword">this</span>.u_pet = u_pet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3ã€-Spring-amp-JUnitè¿›è¡Œæµ‹è¯•ï¼š"><a href="#3ã€-Spring-amp-JUnitè¿›è¡Œæµ‹è¯•ï¼š" class="headerlink" title="3ã€ Spring &amp; JUnitè¿›è¡Œæµ‹è¯•ï¼š"></a>3ã€ Spring &amp; JUnitè¿›è¡Œæµ‹è¯•ï¼š</h3><p>a) å¯¼åŒ…ï¼š teståŒ…ï¼ˆä¾èµ– aopåŒ…ï¼‰ï¼›</p>
<p>b) ä½¿ç”¨@RunWithæ³¨è§£åˆ›å»ºspringå®¹å™¨ï¼›</p>
<p>cï¼‰ ä½¿ç”¨@ContextConfigurationè¯»å–springé…ç½®æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@RunWith</span>(SpringJUnit4ClassRunner<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"> //ä½¿ç”¨<span class="title">junit</span>è¿›è¡Œæµ‹è¯•ï¼Œå¸®åŠ©åˆ›å»ºå®¹å™¨</span></span><br><span class="line"> @ContextConfiguration("classpath:applicationContextInjection.xml")</span><br><span class="line"> <span class="comment">//è¯»å–é…ç½®æ–‡ä»¶</span></span><br><span class="line"> publicclass TestJunit &#123;    </span><br><span class="line"> 	<span class="meta">@Resource</span>(name = <span class="string">"cat"</span>)    </span><br><span class="line"> 	<span class="keyword">private</span> Pet pet;   </span><br><span class="line">    <span class="meta">@Test</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">    System.out.println(pet); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>BUGï¼š</strong>java.lang.ExceptionInInitializerError<br> at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native<br>Method)<br> at<br>sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)<br> at<br>sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br> at java.lang.reflect.Constructor.newInstance(Constructor.java:423)<br> at<br>org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:29)<br> at<br>org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:21)<br> at<br>org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)<br> at<br>org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)<br> at<br>org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)<br> at<br>org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:26)<br> at<br>org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:31)<br> at<br>com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:49)<br> at<br>com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)<br> at<br>com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)<br> at<br>com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)<br><strong>Caused by: java.lang.IllegalStateException: SpringJUnit4ClassRunner<br>requires JUnit 4.12 or higher.</strong><br> at org.springframework.util.Assert.state(Assert.java:73)<br> at<br>org.springframework.test.context.junit4.SpringJUnit4ClassRunner.(SpringJUnit4ClassRunner.java:104)<br> â€¦ 15 more</p>
<p><strong>åŸå› ï¼šJUnitåŒ…éœ€è¦æ›´é«˜ç‰ˆæœ¬ï¼</strong></p>
<p><strong>æ³¨æ„ï¼šå„ä¸ªjaråŒ…ç‰ˆæœ¬è”ç³»ï¼Œé¿å…å†²çªï¼</strong></p>
<p> <strong>é”™è¯¯æ—¥å¿—éœ€è¦è®¤çœŸåˆ†æï¼</strong></p>
<p><a href="https://blog.csdn.net/weixin_38771884/article/details/84136703" target="_blank" rel="noopener">ç›¸å…³é“¾æ¥1</a></p>
<p><a href="https://blog.csdn.net/guanwangzhe521/article/details/51470241" target="_blank" rel="noopener">ç›¸å…³é“¾æ¥2</a></p>
<h3 id="4ã€ä¸»é…ç½®æ–‡ä»¶çš„åˆ†åŒ…é…ç½®"><a href="#4ã€ä¸»é…ç½®æ–‡ä»¶çš„åˆ†åŒ…é…ç½®" class="headerlink" title="4ã€ä¸»é…ç½®æ–‡ä»¶çš„åˆ†åŒ…é…ç½®"></a>4ã€ä¸»é…ç½®æ–‡ä»¶çš„åˆ†åŒ…é…ç½®</h3><p>ä¸»é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"applicationContextInjection.xml"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"applicationContextAnnotation"</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="part4-å°ç»“ä¸ç»ƒä¹ "><a href="#part4-å°ç»“ä¸ç»ƒä¹ " class="headerlink" title="part4 å°ç»“ä¸ç»ƒä¹ "></a>part4 å°ç»“ä¸ç»ƒä¹ </h2><h3 id="1ã€-ä½¿ç”¨servletæŠ€æœ¯å¼€å‘ç”¨æˆ·ç™»é™†åŠŸèƒ½ï¼›"><a href="#1ã€-ä½¿ç”¨servletæŠ€æœ¯å¼€å‘ç”¨æˆ·ç™»é™†åŠŸèƒ½ï¼›" class="headerlink" title="1ã€ ä½¿ç”¨servletæŠ€æœ¯å¼€å‘ç”¨æˆ·ç™»é™†åŠŸèƒ½ï¼›"></a>1ã€ ä½¿ç”¨servletæŠ€æœ¯å¼€å‘ç”¨æˆ·ç™»é™†åŠŸèƒ½ï¼›</h3><h3 id="2ã€-åœ¨é¡¹ç›®ä¸­åŠ å…¥Springæ¡†æ¶"><a href="#2ã€-åœ¨é¡¹ç›®ä¸­åŠ å…¥Springæ¡†æ¶" class="headerlink" title="2ã€ åœ¨é¡¹ç›®ä¸­åŠ å…¥Springæ¡†æ¶"></a>2ã€ åœ¨é¡¹ç›®ä¸­åŠ å…¥Springæ¡†æ¶</h3><p><img src="https://github.com/ZephXu07/IMG/raw/master/%E4%BD%BF%E7%94%A8Spring%E6%94%B9%E9%80%A0Servlet%E9%A1%B9%E7%9B%AE%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E4%BE%9D%E8%B5%96%E5%9B%BE.png" alt="å…³ç³»å›¾"></p>
<h4 id="i-å°†serviceã€daoã€dateSourceäº¤ç»™Springç®¡ç†ï¼›"><a href="#i-å°†serviceã€daoã€dateSourceäº¤ç»™Springç®¡ç†ï¼›" class="headerlink" title="i. å°†serviceã€daoã€dateSourceäº¤ç»™Springç®¡ç†ï¼›"></a>i. å°†serviceã€daoã€dateSourceäº¤ç»™Springç®¡ç†ï¼›</h4><p>userDaoImplä¸­çš„<code>private ComboPooledDataSource dataSource</code>é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">static</span> &#123;   </span><br><span class="line"> 	<span class="keyword">try</span> &#123;       </span><br><span class="line">        <span class="comment">//é…ç½®c3p0ï¼Œè¿æ¥æ•°æ®åº“       </span></span><br><span class="line">        dataSource = <span class="keyword">new</span> ComboPooledDataSource();        </span><br><span class="line">        dataSource.setDriverClass(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);                 </span><br><span class="line">        dataSource.setJdbcUrl(<span class="string">"jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai"</span>);        </span><br><span class="line">        dataSource.setUser(<span class="string">"root"</span>);        </span><br><span class="line">        dataSource.setPassword(<span class="string">"10709991"</span>);   </span><br><span class="line">    &#125; <span class="keyword">catch</span> (PropertyVetoException e) &#123;        </span><br><span class="line">        e.printStackTrace();</span><br><span class="line">&#125;                          |</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸ºapplicationContext.xmlä¸­ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!--é…ç½®dataSource--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span> </span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span> </span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai"</span>/&gt;</span>    </span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span>    </span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"10709991"</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰dao, serviceä¸­çš„é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®Dao--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"userDao"</span><span class="attr">class</span>=<span class="string">"com.zephxu.dao.UserDaoImpl"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®Service--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"userService"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.service.UserServiceImpl"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"userDao"</span> <span class="attr">ref</span>=<span class="string">"userDao"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>ç¼ºç‚¹ï¼šæ¯ä¸€ä¸ªè¯·æ±‚éƒ½è¦newä¸€ä¸ªå®¹å™¨ï¼Œè€Œwebé¡¹ç›®ä¸­åªéœ€è¦ä¸€ä»½ï¼Œä¸‹ä¸€æ­¥æä¾›è§£å†³æ–¹æ³•ã€‚</strong></p>
<h4 id="ii-åœ¨web-xmlä¸­é…ç½®Springç›‘å¬å™¨å’Œè¯»å–é…ç½®æ–‡ä»¶ï¼ˆSSMæ•´åˆç›¸å…³å†…å®¹é“¾æ¥ï¼‰ï¼›"><a href="#ii-åœ¨web-xmlä¸­é…ç½®Springç›‘å¬å™¨å’Œè¯»å–é…ç½®æ–‡ä»¶ï¼ˆSSMæ•´åˆç›¸å…³å†…å®¹é“¾æ¥ï¼‰ï¼›" class="headerlink" title="ii. åœ¨web.xmlä¸­é…ç½®Springç›‘å¬å™¨å’Œè¯»å–é…ç½®æ–‡ä»¶ï¼ˆSSMæ•´åˆç›¸å…³å†…å®¹é“¾æ¥ï¼‰ï¼›"></a>ii. åœ¨web.xmlä¸­é…ç½®Springç›‘å¬å™¨å’Œè¯»å–é…ç½®æ–‡ä»¶<a href="https://zephxu07.github.io/2019/10/15/SSM%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/#b-%E3%80%81%E6%B3%A8%E6%84%8F%EF%BC%9A" target="_blank" rel="noopener">ï¼ˆSSMæ•´åˆç›¸å…³å†…å®¹é“¾æ¥ï¼‰</a>ï¼›</h4><ul>
<li>ServletContextç±»ç”Ÿå‘½å‘¨æœŸéšwebé¡¹ç›®å¯åŠ¨è€Œåˆ›å»ºï¼Œéšwebé¡¹ç›®å…³é—­è€Œé”€æ¯ã€‚</li>
<li>ServletContextListenerå¯ä»¥é€šè¿‡é…ç½®ç›‘å¬å™¨æ¥è¾¾åˆ°è¦æ±‚ï¼Œåœ¨webé¡¹ç›®åˆ›å»ºæ—¶åˆ›å»ºSpringå®¹å™¨ï¼Œé”€æ¯æ—¶å…³é—­Springå®¹å™¨ã€‚</li>
</ul>
<p>web.xmlæ–‡ä»¶é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®ç›‘å¬å™¨ï¼Œåœ¨webé¡¹ç›®å¯åŠ¨æ—¶è®©Springå¯åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span>    </span><br><span class="line">	<span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¯»å–Springçš„é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span>    </span><br><span class="line">	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span>    </span><br><span class="line">	<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>Servletç±»ç”±</p>
<p><code>ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;applicationContext&quot;);</code></p>
<p>æ”¹ä¸ºï¼š</p>
<p><code>WebApplicationContext wac = WebApplicationContextUtils.getWebApplicationContext(getServletContext());</code></p>
<h2 id="part5-Spring-aop"><a href="#part5-Spring-aop" class="headerlink" title="part5 Spring-aop "></a>part5 Spring-aop </h2><h3 id="1ã€-aopæ€æƒ³ä»‹ç»ï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼šå°†çºµå‘é‡å¤ä»£ç ï¼Œæ¨ªå‘æŠ½å–è§£å†³ï¼Œç®€ç§°ï¼šæ¨ªåˆ‡"><a href="#1ã€-aopæ€æƒ³ä»‹ç»ï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼šå°†çºµå‘é‡å¤ä»£ç ï¼Œæ¨ªå‘æŠ½å–è§£å†³ï¼Œç®€ç§°ï¼šæ¨ªåˆ‡" class="headerlink" title="1ã€ aopæ€æƒ³ä»‹ç»ï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼šå°†çºµå‘é‡å¤ä»£ç ï¼Œæ¨ªå‘æŠ½å–è§£å†³ï¼Œç®€ç§°ï¼šæ¨ªåˆ‡"></a>1ã€ aopæ€æƒ³ä»‹ç»ï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼šå°†çºµå‘é‡å¤ä»£ç ï¼Œæ¨ªå‘æŠ½å–è§£å†³ï¼Œç®€ç§°ï¼šæ¨ªåˆ‡</h3><p><img src="https://github.com/ZephXu07/IMG/raw/master/aop%E6%80%9D%E6%83%B3%E6%A6%82%E5%BF%B5%E4%B8%BE%E4%BE%8B.png" alt="ä¾‹å›¾"></p>
<h3 id="2ã€-Springä¸­çš„aopï¼šæ— éœ€æˆ‘ä»¬è‡ªå·±å†™åŠ¨æ€ä»£ç†çš„ä»£ç ï¼Œspringå¯ä»¥å°†å®¹å™¨ä¸­ç®¡ç†å¯¹è±¡ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå‰ææ˜¯æˆ‘ä»¬å¯¹ä»–è¿›è¡Œä¸€äº›è®¾ç½®ï¼›"><a href="#2ã€-Springä¸­çš„aopï¼šæ— éœ€æˆ‘ä»¬è‡ªå·±å†™åŠ¨æ€ä»£ç†çš„ä»£ç ï¼Œspringå¯ä»¥å°†å®¹å™¨ä¸­ç®¡ç†å¯¹è±¡ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå‰ææ˜¯æˆ‘ä»¬å¯¹ä»–è¿›è¡Œä¸€äº›è®¾ç½®ï¼›" class="headerlink" title="2ã€ Springä¸­çš„aopï¼šæ— éœ€æˆ‘ä»¬è‡ªå·±å†™åŠ¨æ€ä»£ç†çš„ä»£ç ï¼Œspringå¯ä»¥å°†å®¹å™¨ä¸­ç®¡ç†å¯¹è±¡ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå‰ææ˜¯æˆ‘ä»¬å¯¹ä»–è¿›è¡Œä¸€äº›è®¾ç½®ï¼›"></a>2ã€ Springä¸­çš„aopï¼šæ— éœ€æˆ‘ä»¬è‡ªå·±å†™åŠ¨æ€ä»£ç†çš„ä»£ç ï¼Œspringå¯ä»¥å°†å®¹å™¨ä¸­ç®¡ç†å¯¹è±¡ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå‰ææ˜¯æˆ‘ä»¬å¯¹ä»–è¿›è¡Œä¸€äº›è®¾ç½®ï¼›</h3><h3 id="3ã€-Spring-aopæ˜¯åŸºäºåŠ¨æ€ä»£ç†çš„-â€“-ä¼˜å…ˆé€‰ç”¨JDKProxyåŠ¨æ€ä»£ç†ï¼›"><a href="#3ã€-Spring-aopæ˜¯åŸºäºåŠ¨æ€ä»£ç†çš„-â€“-ä¼˜å…ˆé€‰ç”¨JDKProxyåŠ¨æ€ä»£ç†ï¼›" class="headerlink" title="3ã€ Spring-aopæ˜¯åŸºäºåŠ¨æ€ä»£ç†çš„ â€“ ä¼˜å…ˆé€‰ç”¨JDKProxyåŠ¨æ€ä»£ç†ï¼›"></a>3ã€ Spring-aopæ˜¯åŸºäºåŠ¨æ€ä»£ç†çš„ â€“ ä¼˜å…ˆé€‰ç”¨JDKProxyåŠ¨æ€ä»£ç†ï¼›</h3><p><a href="https://zephxu07.github.io/2019/10/02/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%AC%94%E8%AE%B0/" target="_blank" rel="noopener">æ›´åŠ è¯¦ç»†çš„åŠ¨æ€ä»£ç†</a></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Snipaste_2019-10-02_18-01-30.png" alt="example"></p>
<h4 id="a-ProxyåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡å¿…é¡»è¦å®ç°æ¥å£ï¼›"><a href="#a-ProxyåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡å¿…é¡»è¦å®ç°æ¥å£ï¼›" class="headerlink" title="a) ProxyåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡å¿…é¡»è¦å®ç°æ¥å£ï¼›"></a>a) ProxyåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡å¿…é¡»è¦å®ç°æ¥å£ï¼›</h4><h4 id="b-CglibåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡ä¸èƒ½è¢«finalä¿®é¥°ï¼ŒåŸºäºç»§æ‰¿ï¼›"><a href="#b-CglibåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡ä¸èƒ½è¢«finalä¿®é¥°ï¼ŒåŸºäºç»§æ‰¿ï¼›" class="headerlink" title="b) CglibåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡ä¸èƒ½è¢«finalä¿®é¥°ï¼ŒåŸºäºç»§æ‰¿ï¼›"></a>b) CglibåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†çš„å¯¹è±¡ä¸èƒ½è¢«finalä¿®é¥°ï¼ŒåŸºäºç»§æ‰¿ï¼›</h4><h3 id="4ã€-Spring-aopç›¸å…³åè¯è¯´æ˜-ï¼›"><a href="#4ã€-Spring-aopç›¸å…³åè¯è¯´æ˜-ï¼›" class="headerlink" title="4ã€ Spring aopç›¸å…³åè¯è¯´æ˜ ï¼›"></a>4ã€ Spring aopç›¸å…³åè¯è¯´æ˜ ï¼›</h3><p><img src="https://github.com/ZephXu07/IMG/raw/master/Snipaste_2019-10-02_18-07-38.png" alt="conceptual
graphs"></p>
<h3 id="5ã€-Spring-aopé…ç½®ï¼š"><a href="#5ã€-Spring-aopé…ç½®ï¼š" class="headerlink" title="5ã€ Spring aopé…ç½®ï¼š"></a>5ã€ Spring aopé…ç½®ï¼š</h3><h4 id="a-å¯¼åŒ…ï¼š"><a href="#a-å¯¼åŒ…ï¼š" class="headerlink" title="a) å¯¼åŒ…ï¼š"></a>a) å¯¼åŒ…ï¼š</h4><h5 id="i-åŸºæœ¬åŒ…ï¼›"><a href="#i-åŸºæœ¬åŒ…ï¼›" class="headerlink" title="i. åŸºæœ¬åŒ…ï¼›"></a>i. åŸºæœ¬åŒ…ï¼›</h5><h5 id="ii-spring-aspectså’Œspring-aop-ï¼›"><a href="#ii-spring-aspectså’Œspring-aop-ï¼›" class="headerlink" title="ii. spring-aspectså’Œspring-aop ï¼›"></a>ii. spring-aspectså’Œspring-aop ï¼›</h5><h5 id="iii-aopè”ç›ŸåŒ…-â€“-aopallianceï¼›"><a href="#iii-aopè”ç›ŸåŒ…-â€“-aopallianceï¼›" class="headerlink" title="iii. aopè”ç›ŸåŒ… â€“ aopallianceï¼›"></a>iii. aopè”ç›ŸåŒ… â€“ aopallianceï¼›</h5><h5 id="v-aopç»‡å…¥åŒ…-aspectj-weaverï¼›"><a href="#v-aopç»‡å…¥åŒ…-aspectj-weaverï¼›" class="headerlink" title="v. aopç»‡å…¥åŒ… - aspectj.weaverï¼›"></a>v. aopç»‡å…¥åŒ… - aspectj.weaverï¼›</h5><h4 id="b-è‡ªå®šä¹‰é€šçŸ¥ï¼Œäº”ç§è‡ªå®šä¹‰é€šçŸ¥ç±»å‹ï¼š"><a href="#b-è‡ªå®šä¹‰é€šçŸ¥ï¼Œäº”ç§è‡ªå®šä¹‰é€šçŸ¥ç±»å‹ï¼š" class="headerlink" title="b) è‡ªå®šä¹‰é€šçŸ¥ï¼Œäº”ç§è‡ªå®šä¹‰é€šçŸ¥ç±»å‹ï¼š"></a>b) è‡ªå®šä¹‰é€šçŸ¥ï¼Œäº”ç§è‡ªå®šä¹‰é€šçŸ¥ç±»å‹ï¼š</h4><h5 id="i-before-å‰ç½®é€šçŸ¥ï¼šåœ¨ç›®æ ‡æ–¹æ³•å‰è°ƒç”¨"><a href="#i-before-å‰ç½®é€šçŸ¥ï¼šåœ¨ç›®æ ‡æ–¹æ³•å‰è°ƒç”¨" class="headerlink" title="i. before å‰ç½®é€šçŸ¥ï¼šåœ¨ç›®æ ‡æ–¹æ³•å‰è°ƒç”¨"></a>i. before å‰ç½®é€šçŸ¥ï¼šåœ¨ç›®æ ‡æ–¹æ³•å‰è°ƒç”¨</h5><h5 id="ii-after-æœ€ç»ˆé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åè°ƒç”¨ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šè°ƒç”¨ï¼Œç±»ä¼¼finally"><a href="#ii-after-æœ€ç»ˆé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åè°ƒç”¨ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šè°ƒç”¨ï¼Œç±»ä¼¼finally" class="headerlink" title="ii. after æœ€ç»ˆé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åè°ƒç”¨ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šè°ƒç”¨ï¼Œç±»ä¼¼finally"></a>ii. after æœ€ç»ˆé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åè°ƒç”¨ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šè°ƒç”¨ï¼Œç±»ä¼¼finally</h5><h5 id="iii-afterReturning-æˆåŠŸé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”æ‰§è¡ŒæˆåŠŸæ—¶è°ƒç”¨ï¼Œå‡ºç°å¼‚å¸¸åˆ™ä¸è°ƒç”¨"><a href="#iii-afterReturning-æˆåŠŸé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”æ‰§è¡ŒæˆåŠŸæ—¶è°ƒç”¨ï¼Œå‡ºç°å¼‚å¸¸åˆ™ä¸è°ƒç”¨" class="headerlink" title="iii. afterReturning æˆåŠŸé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”æ‰§è¡ŒæˆåŠŸæ—¶è°ƒç”¨ï¼Œå‡ºç°å¼‚å¸¸åˆ™ä¸è°ƒç”¨"></a>iii. afterReturning æˆåŠŸé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”æ‰§è¡ŒæˆåŠŸæ—¶è°ƒç”¨ï¼Œå‡ºç°å¼‚å¸¸åˆ™ä¸è°ƒç”¨</h5><h5 id="iv-afterThrowing-å¼‚å¸¸é€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”å‡ºç°å¼‚å¸¸è°ƒç”¨ï¼Œæ‰§è¡ŒæˆåŠŸæ—¶åˆ™ä¸è°ƒç”¨"><a href="#iv-afterThrowing-å¼‚å¸¸é€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”å‡ºç°å¼‚å¸¸è°ƒç”¨ï¼Œæ‰§è¡ŒæˆåŠŸæ—¶åˆ™ä¸è°ƒç”¨" class="headerlink" title="iv. afterThrowing å¼‚å¸¸é€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”å‡ºç°å¼‚å¸¸è°ƒç”¨ï¼Œæ‰§è¡ŒæˆåŠŸæ—¶åˆ™ä¸è°ƒç”¨"></a>iv. afterThrowing å¼‚å¸¸é€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•åæ‰§è¡Œåï¼Œå¹¶ä¸”å‡ºç°å¼‚å¸¸è°ƒç”¨ï¼Œæ‰§è¡ŒæˆåŠŸæ—¶åˆ™ä¸è°ƒç”¨</h5><h5 id="v-around-ç¯ç»•é€šçŸ¥ï¼šéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®é€šçŸ¥"><a href="#v-around-ç¯ç»•é€šçŸ¥ï¼šéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®é€šçŸ¥" class="headerlink" title="v. around ç¯ç»•é€šçŸ¥ï¼šéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®é€šçŸ¥"></a>v. around ç¯ç»•é€šçŸ¥ï¼šéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®é€šçŸ¥</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdvice</span> </span>&#123;    </span><br><span class="line">    <span class="comment">//    before å‰ç½®é€šçŸ¥    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;       </span><br><span class="line">        System.out.println(<span class="string">"before"</span>);    </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">//    after æœ€ç»ˆé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">        System.out.println(<span class="string">"after"</span>);   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="comment">//  afterReturning æˆåŠŸé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">        System.out.println(<span class="string">"afterReturning"</span>);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">//    afterThrowing å¼‚å¸¸é€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        System.out.println(<span class="string">"afterThrowing"</span>);    </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="comment">//    around ç¯ç»•é€šçŸ¥     </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">around</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable </span>&#123;      </span><br><span class="line">        System.out.println(<span class="string">"around before"</span>); </span><br><span class="line">        Object proceed  = pjp.proceed();        </span><br><span class="line">        System.out.println(<span class="string">"around after"</span>);        </span><br><span class="line">        <span class="keyword">return</span> proceed; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="c-é…ç½®applicationContext-xmlï¼š"><a href="#c-é…ç½®applicationContext-xmlï¼š" class="headerlink" title="c) é…ç½®applicationContext.xmlï¼š"></a><a href="#c-é…ç½®applicationContext-xmlï¼š" title="c)      é…ç½®applicationContext.xmlï¼š"></a>c) é…ç½®applicationContext.xmlï¼š</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span>       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span>       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd            http://www.springframework.org/schema/aop              http://www.springframework.org/schema/aop/spring-aop-4.3.xsd"</span>&gt;</span>    </span><br><span class="line"><span class="comment">&lt;!--ç›®æ ‡å¯¹è±¡--&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"userService"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.service.UserServiceImpl"</span>/&gt;</span>    <span class="comment">&lt;!--   é€šçŸ¥å¯¹è±¡ --&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"myAdvice"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.aop.MyAdvice"</span>/&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span>        </span><br><span class="line">    <span class="comment">&lt;!-- åˆ‡å…¥ç‚¹           expressionï¼šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œ å¯ä»¥é…ç½®è¦å¢å¼ºçš„æ–¹æ³• </span></span><br><span class="line"><span class="comment">    å•ç‹¬é’ˆå¯¹æ­¤æ–¹æ³•ï¼špublic void com.zephxu.service.UserServiceImpl.save()           è¾ƒå¤§èŒƒå›´ï¼š* com.zephxu.service.*ServiceImpl.*(..)ï¼Œæ­¤è¡¨è¾¾å¼å¯å¯¹publicç­‰æƒé™çš„serviceä¸‹æ‰€æœ‰ä»¥ServiceImplç»“å°¾çš„æ‰€æœ‰æ–¹æ³•å¢å¼ºä¸ç®¡æ­¤æ–¹æ³•çš„å‚æ•°å‡ ä½•åŠä½•è¿”å›å€¼</span></span><br><span class="line"><span class="comment">    idï¼šå”¯ä¸€æ ‡è¯†--&gt;</span>        </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"servicePc"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.zephxu.service.*ServiceImpl.*(..))"</span>/&gt;</span>        </span><br><span class="line">    <span class="comment">&lt;!--åˆ‡é¢ï¼šé€šçŸ¥ + åˆ‡å…¥ç‚¹        --&gt;</span>        </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">"myAdvice"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--ç»‘å®šé€šçŸ¥å¯¹è±¡--&gt;</span>            </span><br><span class="line">            <span class="comment">&lt;!--é€šçŸ¥ç±»å‹--&gt;</span>            </span><br><span class="line">            <span class="comment">&lt;!-- å‰ç½®é€šçŸ¥ --&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"before"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePc"</span>/&gt;</span> </span><br><span class="line">            <span class="comment">&lt;!-- æœ€ç»ˆé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰           --&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">"after"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePc"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æˆåŠŸé€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰          --&gt;</span>     </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">" afterReturning"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePc"</span>/&gt;</span>            <span class="comment">&lt;!--    å¼‚å¸¸é€šçŸ¥ï¼ˆåç½®é€šçŸ¥ï¼‰ --&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">"afterThrowing"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePc"</span>/&gt;</span>            <span class="comment">&lt;!--    ç¯ç»•é€šçŸ¥          --&gt;</span>            </span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">"around"</span> <span class="attr">pointcut-ref</span>=<span class="string">"servicePc"</span>/&gt;</span>        </span><br><span class="line">            <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="dï¼‰æµ‹è¯•åŠç»“æœ"><a href="#dï¼‰æµ‹è¯•åŠç»“æœ" class="headerlink" title="dï¼‰æµ‹è¯•åŠç»“æœ"></a>dï¼‰æµ‹è¯•åŠç»“æœ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:applicationContext.xml")</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AopTest</span> </span>&#123;   </span><br><span class="line">	<span class="meta">@Resource</span>(name = <span class="string">"userService"</span>)    </span><br><span class="line">	UserService us;    </span><br><span class="line">	<span class="meta">@Test</span>    </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">		us.delete();   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong><em>ç»“æœï¼š</em></strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/RunningResult.png" alt="result"></p>
<p><strong><em>æµ‹è¯•å¼‚å¸¸ï¼š</em></strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/TestThrow.png" alt="testThrow"></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/ThrowResult.png" alt="ThrowingResult"></p>
<h4 id="eï¼‰bugåŠåŸå› ï¼š"><a href="#eï¼‰bugåŠåŸå› ï¼š" class="headerlink" title="eï¼‰bugåŠåŸå› ï¼š"></a>eï¼‰bugåŠåŸå› ï¼š</h4><p><strong><em>BUG:</em></strong></p>
<p><strong><em>Caused by:<br>org.springframework.beans.factory.parsing.BeanDefinitionParsingException:<br>Configuration problem: tag needs aspect bean reference via â€˜refâ€™<br>attribute when declaring advices.<br>Offending resource: class path resource [applicationContext.xml]</em></strong><br><strong><em>Aspect: ref=â€™â€™</em></strong></p>
<p><strong><em>Reasonï¼š</em></strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/BugReason.png" alt="reason"></p>
<h2 id="part6ã€Springä¸Jdbc"><a href="#part6ã€Springä¸Jdbc" class="headerlink" title="part6ã€Springä¸Jdbc "></a>part6ã€Springä¸Jdbc </h2><h3 id="1ã€-ä½¿ç”¨JdbcTemplateæ“ä½œæ•°æ®åº“ï¼›"><a href="#1ã€-ä½¿ç”¨JdbcTemplateæ“ä½œæ•°æ®åº“ï¼›" class="headerlink" title="1ã€ ä½¿ç”¨JdbcTemplateæ“ä½œæ•°æ®åº“ï¼›"></a>1ã€ ä½¿ç”¨JdbcTemplateæ“ä½œæ•°æ®åº“ï¼›</h3><ul>
<li>å¯¼åŒ…ï¼šæ–°å¢jdbcã€tx</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;    </span><br><span class="line"> 	<span class="keyword">private</span> <span class="keyword">static</span> ComboPooledDataSource dataSource;</span><br><span class="line"> 	<span class="keyword">static</span> &#123;        </span><br><span class="line"> 		<span class="keyword">try</span> &#123;            <span class="comment">// é…ç½®c3p0ï¼Œè¿æ¥æ•°æ®åº“            </span></span><br><span class="line">            dataSource = <span class="keyword">new</span> ComboPooledDataSource();      </span><br><span class="line">            dataSource.setDriverClass(<span class="string">"com.mysql.cj.jdbc.Driver"</span>); </span><br><span class="line">            dataSource.setJdbcUrl(<span class="string">"jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai"</span>);            </span><br><span class="line">            dataSource.setUser(<span class="string">"root"</span>);            </span><br><span class="line">            dataSource.setPassword(<span class="string">"10709991"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (PropertyVetoException e) &#123;            </span><br><span class="line">        	e.printStackTrace();        </span><br><span class="line">        &#125;   </span><br><span class="line">	&#125;    </span><br><span class="line">	<span class="meta">@Override</span>    </span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">selectUserById</span><span class="params">(Integer id)</span> </span>&#123; </span><br><span class="line">        JdbcTemplate jt = <span class="keyword">new</span> JdbcTemplate(dataSource);</span><br><span class="line">        String sql = <span class="string">"select * from user where u_id = ?"</span>;        </span><br><span class="line">        User user = jt.queryForObject(sql, <span class="keyword">new</span> RowMapper&lt;User&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span>            </span><br><span class="line">            <span class="function"><span class="keyword">public</span> User <span class="title">mapRow</span><span class="params">(ResultSet rs, <span class="keyword">int</span> index)</span> <span class="keyword">throws</span> SQLException </span>&#123;           	User u = <span class="keyword">new</span> User();</span><br><span class="line">                u.setU_id(rs.getInt(<span class="string">"u_id"</span>));</span><br><span class="line">                u.setU_username(rs.getString(<span class="string">"u_username"</span>));</span><br><span class="line">                u.setU_password(rs.getString(<span class="string">"u_password"</span>));                </span><br><span class="line">                <span class="keyword">return</span> u;</span><br><span class="line">            &#125;        </span><br><span class="line">		&#125;, id);        </span><br><span class="line">		<span class="keyword">return</span> user;   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€-JdbcTemplateçš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼›"><a href="#2ã€-JdbcTemplateçš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼›" class="headerlink" title="2ã€ JdbcTemplateçš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼›"></a>2ã€ JdbcTemplateçš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼›</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>   </span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectAllUser</span><span class="params">()</span> </span>&#123;       </span><br><span class="line">    String sql = <span class="string">"select * from user"</span>;       </span><br><span class="line">    List&lt;User&gt; userList = jt.query(sql, <span class="keyword">new</span> RowMapper&lt;User&gt;() &#123;           			<span class="meta">@Override</span> </span><br><span class="line">        <span class="function"><span class="keyword">public</span> User <span class="title">mapRow</span><span class="params">(ResultSet rs, <span class="keyword">int</span> index)</span> <span class="keyword">throws</span> SQLException </span>&#123;   </span><br><span class="line">       		User u = <span class="keyword">new</span> User();              </span><br><span class="line">			u.setU_id(rs.getInt(<span class="string">"u_id"</span>));              </span><br><span class="line">			u.setU_username(rs.getString(<span class="string">"u_username"</span>));     </span><br><span class="line">            u.setU_password(rs.getString(<span class="string">"u_password"</span>));               </span><br><span class="line">            <span class="keyword">return</span> u;           </span><br><span class="line">        &#125;      </span><br><span class="line">    &#125;);        </span><br><span class="line">    <span class="keyword">return</span> userList;  </span><br><span class="line">&#125;   </span><br><span class="line"><span class="meta">@Override</span>   </span><br><span class="line"><span class="function"><span class="keyword">public</span> Integer <span class="title">selectUserCount</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    String sql = <span class="string">"select count(*) from user"</span>;       </span><br><span class="line">    <span class="keyword">return</span> jt.queryForObject(sql, Integer<span class="class">.<span class="keyword">class</span>)</span>; </span><br><span class="line">&#125;   </span><br><span class="line"><span class="meta">@Override</span>   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(User user)</span> </span>&#123;     </span><br><span class="line">    String sql = <span class="string">"insert into user values(null, ?, ?)"</span>;   </span><br><span class="line">    jt.update(sql, user.getU_username(), user.getU_username());  </span><br><span class="line">&#125;   </span><br><span class="line"><span class="meta">@Override</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(Integer id)</span> </span>&#123;       </span><br><span class="line">    String sql = <span class="string">"delete from user where u_id = ?"</span>;       </span><br><span class="line">    jt.update(sql, id);   </span><br><span class="line">&#125;   </span><br><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;   </span><br><span class="line">    String sql = <span class="string">"update user set u_username = ?, u_password = ? where u_id = ?"</span> ;       </span><br><span class="line">    jt.update(sql, user.getU_username(), user.getU_password(), user.getU_id()); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€-è®©Springå®¹å™¨ç®¡ç†JdbcTemplateï¼›"><a href="#3ã€-è®©Springå®¹å™¨ç®¡ç†JdbcTemplateï¼›" class="headerlink" title="3ã€ è®©Springå®¹å™¨ç®¡ç†JdbcTemplateï¼›"></a>3ã€ è®©Springå®¹å™¨ç®¡ç†JdbcTemplateï¼›</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!--ä¾èµ–å…³ç³»ï¼šdao -&gt; jdbcTemplate -&gt;  dataSource --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--    dataSource--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span>   	</span><br><span class="line"> 	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai"</span>/&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"10709991"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    jdbcTemplate--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"jdbcTemplate"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.core.JdbcTe mplate"</span>&gt;</span>    </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--dao--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.dao.UserDaoImpl"</span>&gt;</span>   </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jt"</span> <span class="attr">ref</span>=<span class="string">"jdbcTemplate"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="4ã€-ç»§æ‰¿JdbcDaoSupportç”©å¼€JdbcTemplat"><a href="#4ã€-ç»§æ‰¿JdbcDaoSupportç”©å¼€JdbcTemplat" class="headerlink" title="4ã€ ç»§æ‰¿JdbcDaoSupportç”©å¼€JdbcTemplat"></a>4ã€ ç»§æ‰¿JdbcDaoSupportç”©å¼€JdbcTemplat</h3><p><code>public class UserDaoImpl extends JdbcDaoSupport implements UserDao { }</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¾èµ–å…³ç³»ï¼šdao -&gt; dataSource --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    dataSource--&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span>           </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai"</span>/&gt;</span>       </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span>          </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"10709991"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.dao.UserDaoImpl"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="5ã€-åœ¨Springä¸­è¯»å–é…ç½®æ–‡ä»¶"><a href="#5ã€-åœ¨Springä¸­è¯»å–é…ç½®æ–‡ä»¶" class="headerlink" title="5ã€ åœ¨Springä¸­è¯»å–é…ç½®æ–‡ä»¶"></a>5ã€ åœ¨Springä¸­è¯»å–é…ç½®æ–‡ä»¶</h3><p>db.propertiesï¼š</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driverClass</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.jdbcUrl</span>=<span class="string">jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai</span></span><br><span class="line"><span class="meta">jdbc.user</span>=<span class="string">rootjdbc. password=10709991</span></span><br></pre></td></tr></table></figure>

<p>applicationContext.xmlï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span>       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span>       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans       http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/context        http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>   </span><br><span class="line"><span class="comment">&lt;!--è¯»å–é…ç½®æ–‡ä»¶--&gt;</span>        </span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"db.properties"</span>/&gt;</span>   </span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span>      </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driverClass&#125;"</span>/&gt;</span>        </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.jdbcUrl&#125;"</span>/&gt;</span>        </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.user&#125;"</span>/&gt;</span>     </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="part7-Springä¸­çš„aopäº‹åŠ¡"><a href="#part7-Springä¸­çš„aopäº‹åŠ¡" class="headerlink" title="part7 Springä¸­çš„aopäº‹åŠ¡ "></a>part7 Springä¸­çš„aopäº‹åŠ¡ </h2><h3 id="1ã€äº‹åŠ¡ç›¸å…³çŸ¥è¯†"><a href="#1ã€äº‹åŠ¡ç›¸å…³çŸ¥è¯†" class="headerlink" title="1ã€äº‹åŠ¡ç›¸å…³çŸ¥è¯†"></a>1ã€äº‹åŠ¡ç›¸å…³çŸ¥è¯†</h3><h4 id="a-ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼š"><a href="#a-ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼š" class="headerlink" title="a) ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼š"></a>a) ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼š</h4><p>æŠŠå¤šæ¡æ•°æ®åº“æ“ä½œæ†ç»‘åˆ°ä¸€èµ·æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼›</p>
<h4 id="b-äº‹åŠ¡çš„åŸåˆ™ACIDï¼š"><a href="#b-äº‹åŠ¡çš„åŸåˆ™ACIDï¼š" class="headerlink" title="b) äº‹åŠ¡çš„åŸåˆ™ACIDï¼š"></a>b) äº‹åŠ¡çš„åŸåˆ™ACIDï¼š</h4><p>i.<br>åŸå­æ€§ï¼šäº‹åŠ¡åŒ…å«çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šï¼ŒæˆåŠŸå…¨éƒ¨åº”ç”¨åˆ°æ•°æ®åº“ï¼Œå¤±è´¥ä¸èƒ½å¯¹æ•°æ®åº“æœ‰ä»»ä½•å½±å“ï¼›</p>
<p>ii.<br>ä¸€è‡´æ€§ï¼šäº‹åŠ¡åœ¨æ‰§è¡Œå‰å’Œæ‰§è¡Œåå¿…é¡»ä¸€è‡´ï¼›ä¾‹å¦‚Aå’ŒBä¸€å…±æœ‰100å—é’±ï¼Œæ— è®ºAã€Bä¹‹é—´å¦‚ä½•è½¬è´¦ï¼Œä»–ä»¬çš„é’±å§‹ç»ˆç›¸åŠ éƒ½æ˜¯100ï¼›</p>
<p>iii.<br>éš”ç¦»æ€§ï¼šå¤šç”¨æˆ·å¹¶å‘è®¿é—®åŒä¸€å¼ è¡¨æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯æ–°çš„äº‹åŠ¡ï¼Œè¯¥äº‹åŠ¡ä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡æ‰€å½±å“ï¼Œç›¸äº’æœ‰éš”ç¦»ï¼›</p>
<p>iv.<br>æŒä¹…æ€§ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œåˆ™å¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ï¼›</p>
<h4 id="c-å¹¶å‘å¯èƒ½å¼•èµ·çš„é—®é¢˜ï¼š"><a href="#c-å¹¶å‘å¯èƒ½å¼•èµ·çš„é—®é¢˜ï¼š" class="headerlink" title="c) å¹¶å‘å¯èƒ½å¼•èµ·çš„é—®é¢˜ï¼š"></a>c) å¹¶å‘å¯èƒ½å¼•èµ·çš„é—®é¢˜ï¼š</h4><p>i. è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼›</p>
<p>ii.<br>ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡å·²æäº¤(Updateæ“ä½œ)çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–ä¸ä¸€è‡´ï¼›</p>
<p>iii.<br>å¹»è¯»ï¼ˆè™šè¯»ï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ä¸­è¯»å–åˆ°åˆ«çš„äº‹åŠ¡æ’å…¥(Insertæ“ä½œ)çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–ä¸ä¸€è‡´ï¼›</p>
<h4 id="d-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼šæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼›"><a href="#d-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼šæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼›" class="headerlink" title="d) äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼šæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼›"></a>d) äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼šæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼›</h4><p>i. Serializableä¸²è¡ŒåŒ–ï¼šå¯é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ï¼›</p>
<p>ii. Repeatable readå¯é‡å¤è¯»ï¼šå¯é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»ï¼›ï¼ˆMySqlé»˜è®¤å€¼ï¼‰</p>
<p>ii. Read committedè¯»å·²æäº¤ï¼šå¯é¿å…è„è¯»ï¼›</p>
<p>iv. Read uncommittedè¯»æœªæäº¤ï¼šä»»ä½•æƒ…å†µéƒ½æ— æ³•ä¿è¯ï¼›</p>
<h4 id="e-æ›´åŠ è¯¦ç»†çš„äº‹åŠ¡ä»‹ç»"><a href="#e-æ›´åŠ è¯¦ç»†çš„äº‹åŠ¡ä»‹ç»" class="headerlink" title="e) æ›´åŠ è¯¦ç»†çš„äº‹åŠ¡ä»‹ç»"></a>e) <a href="https://www.cnblogs.com/xdp-gacl/p/3984001.html" target="_blank" rel="noopener">æ›´åŠ è¯¦ç»†çš„äº‹åŠ¡ä»‹ç»</a></h4><h3 id="2ã€Spring-aopäº‹åŠ¡-æ­å»ºç¯å¢ƒ"><a href="#2ã€Spring-aopäº‹åŠ¡-æ­å»ºç¯å¢ƒ" class="headerlink" title="2ã€Spring-aopäº‹åŠ¡-æ­å»ºç¯å¢ƒ"></a>2ã€Spring-aopäº‹åŠ¡-æ­å»ºç¯å¢ƒ</h3><h4 id="a-äº‹åŠ¡åŸºæœ¬æ“ä½œï¼šæ‰“å¼€äº‹åŠ¡ã€æäº¤äº‹åŠ¡ã€å›æ»šäº‹åŠ¡ï¼›"><a href="#a-äº‹åŠ¡åŸºæœ¬æ“ä½œï¼šæ‰“å¼€äº‹åŠ¡ã€æäº¤äº‹åŠ¡ã€å›æ»šäº‹åŠ¡ï¼›" class="headerlink" title="a) äº‹åŠ¡åŸºæœ¬æ“ä½œï¼šæ‰“å¼€äº‹åŠ¡ã€æäº¤äº‹åŠ¡ã€å›æ»šäº‹åŠ¡ï¼›"></a>a) äº‹åŠ¡åŸºæœ¬æ“ä½œï¼šæ‰“å¼€äº‹åŠ¡ã€æäº¤äº‹åŠ¡ã€å›æ»šäº‹åŠ¡ï¼›</h4><h4 id="b-Springä¸­åˆ©ç”¨æ¥å£æ¥ç®¡ç†ä¸åŒæ¡†æ¶çš„äº‹åŠ¡æ“ä½œï¼›"><a href="#b-Springä¸­åˆ©ç”¨æ¥å£æ¥ç®¡ç†ä¸åŒæ¡†æ¶çš„äº‹åŠ¡æ“ä½œï¼›" class="headerlink" title="b) Springä¸­åˆ©ç”¨æ¥å£æ¥ç®¡ç†ä¸åŒæ¡†æ¶çš„äº‹åŠ¡æ“ä½œï¼›"></a>b) Springä¸­åˆ©ç”¨æ¥å£æ¥ç®¡ç†ä¸åŒæ¡†æ¶çš„äº‹åŠ¡æ“ä½œï¼›</h4><p>i.<br>é€šè¿‡å®ç°PlatformTransactionManageræ¥å£æ”¯æŒä¸åŒçš„æ¡†æ¶å®Œæˆå„è‡ªçš„äº‹åŠ¡å¤„ç†ï¼›</p>
<p>ii. ä¸ºä¸åŒå¹³å°æä¾›å¯¹åº”çš„äº‹åŠ¡ç®¡ç†å™¨çš„å®ç°ï¼š</p>
<p>JDBC&amp;Mybatisï¼šDataSourceTransactionManagerï¼›</p>
<h3 id="3ã€Spring-aopäº‹åŠ¡é€šè¿‡é…ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€äº‹åŠ¡ä¼ æ’­è¡Œä¸ºã€æ˜¯å¦åªè¯»æ¥æ“ä½œï¼›"><a href="#3ã€Spring-aopäº‹åŠ¡é€šè¿‡é…ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€äº‹åŠ¡ä¼ æ’­è¡Œä¸ºã€æ˜¯å¦åªè¯»æ¥æ“ä½œï¼›" class="headerlink" title="3ã€Spring-aopäº‹åŠ¡é€šè¿‡é…ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€äº‹åŠ¡ä¼ æ’­è¡Œä¸ºã€æ˜¯å¦åªè¯»æ¥æ“ä½œï¼›"></a>3ã€Spring-aopäº‹åŠ¡é€šè¿‡é…ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€äº‹åŠ¡ä¼ æ’­è¡Œä¸ºã€æ˜¯å¦åªè¯»æ¥æ“ä½œï¼›</h3><h4 id="i-éš”ç¦»çº§åˆ«ï¼šä¸²è¡ŒåŒ–ã€å¯é‡å¤è¯»ã€è¯»å·²æäº¤ã€è¯»æœªæäº¤ï¼›"><a href="#i-éš”ç¦»çº§åˆ«ï¼šä¸²è¡ŒåŒ–ã€å¯é‡å¤è¯»ã€è¯»å·²æäº¤ã€è¯»æœªæäº¤ï¼›" class="headerlink" title="i. éš”ç¦»çº§åˆ«ï¼šä¸²è¡ŒåŒ–ã€å¯é‡å¤è¯»ã€è¯»å·²æäº¤ã€è¯»æœªæäº¤ï¼›"></a>i. éš”ç¦»çº§åˆ«ï¼šä¸²è¡ŒåŒ–ã€å¯é‡å¤è¯»ã€è¯»å·²æäº¤ã€è¯»æœªæäº¤ï¼›</h4><h4 id="ii-æ˜¯å¦åªè¯»ï¼š"><a href="#ii-æ˜¯å¦åªè¯»ï¼š" class="headerlink" title="ii. æ˜¯å¦åªè¯»ï¼š"></a>ii. æ˜¯å¦åªè¯»ï¼š</h4><ol>
<li><p>trueï¼šä¸å¯æ”¹å˜æ•°æ®åº“ä¸­çš„æ•°æ®ï¼ŒæŸ¥è¯¢æ“ä½œæ¨èï¼Œ</p>
</li>
<li><p>falseï¼šå¯ä»¥æ”¹å˜æ•°æ®åº“æ•°æ®ï¼›</p>
</li>
</ol>
<h4 id="iii-äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šäº‹åŠ¡æ–¹æ³•åµŒå¥—è°ƒç”¨çš„è§„åˆ™ï¼š"><a href="#iii-äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šäº‹åŠ¡æ–¹æ³•åµŒå¥—è°ƒç”¨çš„è§„åˆ™ï¼š" class="headerlink" title="iii. äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šäº‹åŠ¡æ–¹æ³•åµŒå¥—è°ƒç”¨çš„è§„åˆ™ï¼š"></a>iii. äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šäº‹åŠ¡æ–¹æ³•åµŒå¥—è°ƒç”¨çš„è§„åˆ™ï¼š</h4><p> xService.x(); -&gt; yService.y();</p>
<p> 1.<br>REQUIREDï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œ<strong><em>è¯¥è®¾ç½®æ˜¯æœ€å¸¸ç”¨çš„è®¾ç½®</em></strong>ï¼›</p>
<ol start="2">
<li><p>REQUIRES_NEWï¼šåˆ›å»ºæ–°äº‹åŠ¡ï¼Œæ— è®ºå½“å‰å­˜ä¸å­˜åœ¨äº‹åŠ¡ï¼Œéƒ½åˆ›å»ºæ–°äº‹åŠ¡ï¼›</p>
<p>3.<br>SUPPORTSï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ‰§è¡Œï¼›</p>
<p>4.<br>NOT_SUPPORTEDï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ï¼ˆæš‚åœï¼‰ï¼›</p>
<p>5.<br>MANDATORYï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ï¼›</p>
</li>
<li><p>NEVERï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ï¼›</p>
<p>7.<br>NESTEDï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œï¼ˆyå¼€å¯æ–°çš„äº‹åŠ¡ï¼‰ã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸REQUIREDç±»ä¼¼çš„æ“ä½œã€‚</p>
</li>
</ol>
<h3 id="4ã€Spring-aopäº‹åŠ¡-â€“-ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹xmlé…ç½®ç‰ˆaopäº‹åŠ¡ï¼›"><a href="#4ã€Spring-aopäº‹åŠ¡-â€“-ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹xmlé…ç½®ç‰ˆaopäº‹åŠ¡ï¼›" class="headerlink" title="4ã€Spring-aopäº‹åŠ¡-â€“ ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹xmlé…ç½®ç‰ˆaopäº‹åŠ¡ï¼›"></a>4ã€Spring-aopäº‹åŠ¡-â€“ ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹xmlé…ç½®ç‰ˆaopäº‹åŠ¡ï¼›</h3><h4 id="a-ä½¿ç”¨ç»å…¸çš„è½¬è´¦æ¡ˆä¾‹è¿›è¡Œæµ‹è¯•ï¼Œå‡†å¤‡æ•°æ®ï¼šbeanã€serviceã€daoï¼›"><a href="#a-ä½¿ç”¨ç»å…¸çš„è½¬è´¦æ¡ˆä¾‹è¿›è¡Œæµ‹è¯•ï¼Œå‡†å¤‡æ•°æ®ï¼šbeanã€serviceã€daoï¼›" class="headerlink" title="a) ä½¿ç”¨ç»å…¸çš„è½¬è´¦æ¡ˆä¾‹è¿›è¡Œæµ‹è¯•ï¼Œå‡†å¤‡æ•°æ®ï¼šbeanã€serviceã€daoï¼›"></a>a) ä½¿ç”¨ç»å…¸çš„è½¬è´¦æ¡ˆä¾‹è¿›è¡Œæµ‹è¯•ï¼Œå‡†å¤‡æ•°æ®ï¼šbeanã€serviceã€daoï¼›</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transferAccounts</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="comment">//è½¬è´¦        </span></span><br><span class="line">    <span class="comment">//A - 50         </span></span><br><span class="line">    accountDao.subMoney(<span class="number">1</span>, <span class="number">50</span>d);      </span><br><span class="line">    <span class="comment">//å¼‚å¸¸        </span></span><br><span class="line">    <span class="keyword">int</span> value = <span class="number">1</span> / <span class="number">0</span>;      </span><br><span class="line">    <span class="comment">//B + 50        </span></span><br><span class="line">    accountDao.addMoney(<span class="number">2</span>, <span class="number">50</span>d);   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="b-ä½¿ç”¨äº‹åŠ¡éœ€è¦é¢å¤–å¯¼å…¥txåŒ…å’Œtxçº¦æŸï¼›"><a href="#b-ä½¿ç”¨äº‹åŠ¡éœ€è¦é¢å¤–å¯¼å…¥txåŒ…å’Œtxçº¦æŸï¼›" class="headerlink" title="b) ä½¿ç”¨äº‹åŠ¡éœ€è¦é¢å¤–å¯¼å…¥txåŒ…å’Œtxçº¦æŸï¼›"></a>b) ä½¿ç”¨äº‹åŠ¡éœ€è¦é¢å¤–å¯¼å…¥txåŒ…å’Œtxçº¦æŸï¼›</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span>       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span>       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span> <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span>      </span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans       http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context/spring-context.xsd </span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/tx        </span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/tx/spring-tx.xsd  </span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop        </span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="c-é…ç½®äº‹åŠ¡æ ¸å¿ƒç®¡ç†å™¨-DataSourceTransactionManagerï¼›"><a href="#c-é…ç½®äº‹åŠ¡æ ¸å¿ƒç®¡ç†å™¨-DataSourceTransactionManagerï¼›" class="headerlink" title="c) é…ç½®äº‹åŠ¡æ ¸å¿ƒç®¡ç†å™¨: DataSourceTransactionManagerï¼›"></a>c) é…ç½®äº‹åŠ¡æ ¸å¿ƒç®¡ç†å™¨: DataSourceTransactionManagerï¼›</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡æ ¸å¿ƒç®¡ç†å™¨ï¼Œä¸åŒå¹³å°ä¸ä¸€æ ·--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="d-é…ç½®äº‹åŠ¡é€šçŸ¥-tx-Adviceï¼›"><a href="#d-é…ç½®äº‹åŠ¡é€šçŸ¥-tx-Adviceï¼›" class="headerlink" title="d) é…ç½®äº‹åŠ¡é€šçŸ¥ tx:Adviceï¼›"></a>d) é…ç½®äº‹åŠ¡é€šçŸ¥ tx:Adviceï¼›</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥    --&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span>        </span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span>                 </span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"transferAccounts"</span> <span class="attr">isolation</span>=<span class="string">"DEFAULT"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"false"</span>/&gt;</span>           </span><br><span class="line">        <span class="comment">&lt;!--isolationéš”ç¦»çº§åˆ«ï¼Œpropagationä¼ æ’­è¡Œä¸ºï¼Œread-only="false"ä¸ºæœ‰å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹--&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"save*"</span> <span class="attr">isolation</span>=<span class="string">"DEFAULT"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"false"</span>/&gt;</span>            </span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"delete*"</span> <span class="attr">isolation</span>=<span class="string">"DEFAULT"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"false"</span>/&gt;</span>       </span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update*"</span> <span class="attr">isolation</span>=<span class="string">"DEFAULT"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"false"</span>/&gt;</span>           </span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"select*"</span> <span class="attr">isolation</span>=<span class="string">"DEFAULT"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ²¡æœ‰å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹--&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="e-é…ç½®aopï¼›"><a href="#e-é…ç½®aopï¼›" class="headerlink" title="e) é…ç½®aopï¼›"></a>e) é…ç½®aopï¼›</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®aop--&gt;</span><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"txPc"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.zephxu.service.*ServiceImpl.*(.. ))"</span>/&gt;</span>   </span><br><span class="line"><span class="comment">&lt;!--åˆ‡å…¥ç‚¹--&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"txPc"</span>/&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!--é€šçŸ¥-- &gt;</span></span><br><span class="line"><span class="comment">&lt;/aop:config&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>å‡ºç°å¼‚å¸¸<code>int value = 1 / 0;</code>æ—¶å› ä¸ºåŠ å…¥äº‹åŠ¡ç®¡ç†ï¼Œè‡ªåŠ¨äº‹åŠ¡å›æ»šã€‚</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/exist.png" alt="å­˜åœ¨äº‹åŠ¡ç®¡ç†"></p>
<p><strong><em>è‹¥æ²¡æœ‰äº‹åŠ¡ç®¡ç†ï¼Œåˆ™å‰è€…è½¬å‡ºæˆåŠŸï¼Œä½†åè€…å¹¶æ²¡æœ‰æ”¶åˆ°ã€‚</em></strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Simple.png" alt="ä¸å­˜åœ¨äº‹åŠ¡ç®¡ç†"></p>
<h4 id="f-BUGï¼š"><a href="#f-BUGï¼š" class="headerlink" title="f) BUGï¼š"></a>f) BUGï¼š</h4><p>Caused by: org.springframework.beans.factory.BeanCreationException:<br>Error creating bean with name â€˜dataSourceâ€™ defined in class path<br>resource [applicationContext.xml]: Initialization of bean failed; nested<br>exception is java.lang.IllegalArgumentException: Pointcut is not<br>well-formed: expecting â€˜name patternâ€™ at character position 45<br><strong><em>execution(*com.zephxu.service.*ServiceImpl.\</em>(.. ))*</strong></p>
<p><strong><em>åŸå› ï¼š</em></strong></p>
<p><code>&lt;aop:pointcut id=&quot;txPc&quot; expression=&quot;execution(* com.zephxu.service.*ServiceImpl.*(..))&quot;/&gt;</code></p>
<p><strong>åœ¨ * ä¸comä¹‹é—´éœ€è¦ç©ºæ ¼ï¼</strong></p>
<h3 id="5ã€Spring-aopäº‹åŠ¡-â€“-ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹æ³¨è§£ç‰ˆaopäº‹åŠ¡ã€‚"><a href="#5ã€Spring-aopäº‹åŠ¡-â€“-ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹æ³¨è§£ç‰ˆaopäº‹åŠ¡ã€‚" class="headerlink" title="5ã€Spring-aopäº‹åŠ¡ â€“ ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹æ³¨è§£ç‰ˆaopäº‹åŠ¡ã€‚"></a>5ã€Spring-aopäº‹åŠ¡ â€“ ä»éº»çƒ¦çš„äº‹åŠ¡ä»£ç ä¸­èµ°å‡ºä¹‹æ³¨è§£ç‰ˆaopäº‹åŠ¡ã€‚</h3><p><strong>é…ç½®äº‹åŠ¡é€šçŸ¥ tx:Advice</strong>ä¸<strong>é…ç½®aop</strong>æ›´æ”¹ä¸ºï¼š</p>
<p><code>&lt;!--å¼€å¯æ³¨è§£äº‹åŠ¡--&gt;&lt;tx:annotation-driven/&gt;</code></p>
<p><code>@Transactional(isolation = Isolation.DEFAULT, propagation = Propagation.REQUIRED, readOnly = false)</code></p>
<p><strong>æ³¨è§£åœ¨æ–¹æ³•ä¸Šå°±æ­¤æ–¹æ³•å¼€å¯äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥å°†æ³¨è§£æ”¾åœ¨æ­¤ç±»ä¸Šï¼Œåˆ™æ­¤ç±»æ‰€æœ‰æ–¹æ³•éƒ½å¼€å¯äº‹åŠ¡ï¼Œè‹¥æŸæ–¹æ³•æœ‰ç‰¹åˆ«çš„äº‹åŠ¡é…ç½®ä»…éœ€åœ¨é‚£æ–¹æ³•ä¸Šè®¾ç½®æ–°çš„æ³¨è§£ã€‚</strong></p>
<p><strong>BUGï¼š</strong></p>
<p><strong>Error creating bean with name â€˜dataSourceâ€™ defined in class path<br>resource [applicationContext2.xml]: Initialization of bean failed;<br>nested exception is java.lang.NoSuchMethodError:<br>org.springframework.core.annotation.AnnotationUtils.isCandidateClass(Ljava/lang/Class;Ljava/lang/Class;)Z</strong></p>
<p><strong>åŸå› ï¼šå¯¼åŒ…ç¼ºå°‘ï¼Œä»”ç»†ä¸è§†é¢‘ä¸­å¯¹æ¯”ï¼Œå‘ç°å°‘äº†spring-aspectsï¼Œcom.springsource.org.aspectj.weaverï¼Œcom.springsource.org.aopallianceä¸‰ä¸ªjaråŒ…ï¼Œä¸”<a href="https://mvnrepository.com/artifact/org.springframework/spring-core" target="_blank" rel="noopener">Spring<br>Core</a>éœ€è¦æœ€æ–°ï¼</strong></p>
<p><strong>å¼ºçƒˆå»ºè®®ï¼šSpringç‰ˆæœ¬é€šè¿‡mavenç‰ˆæœ¬é”å®šï¼Œ<a href="https://blog.csdn.net/qq_37393900/article/details/80240015" target="_blank" rel="noopener">ç›¸å…³é“¾æ¥</a></strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/SpringVersion.png" alt="ç‰ˆæœ¬é”å®š"></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/FollowSpringVersion.png" alt="è·Ÿéšç‰ˆæœ¬"></p>
<h2 id="part8ã€Springæ•´åˆMybatisåŠ å…¥äº‹åŠ¡æ“ä½œæ•°æ®åº“"><a href="#part8ã€Springæ•´åˆMybatisåŠ å…¥äº‹åŠ¡æ“ä½œæ•°æ®åº“" class="headerlink" title="part8ã€Springæ•´åˆMybatisåŠ å…¥äº‹åŠ¡æ“ä½œæ•°æ®åº“ "></a>part8ã€Springæ•´åˆMybatisåŠ å…¥äº‹åŠ¡æ“ä½œæ•°æ®åº“ </h2><h3 id="1ã€-æ•´åˆMybatis"><a href="#1ã€-æ•´åˆMybatis" class="headerlink" title="1ã€ æ•´åˆMybatis"></a>1ã€ æ•´åˆMybatis</h3><h4 id="a-å¯¼åŒ…ï¼š-1"><a href="#a-å¯¼åŒ…ï¼š-1" class="headerlink" title="a) å¯¼åŒ…ï¼š"></a>a) å¯¼åŒ…ï¼š</h4><p>i. Springï¼šåŸºæœ¬åŒ…ã€aopã€aspectsã€jdbcã€txã€testï¼›</p>
<p>ii. Mybatisï¼šmybatis</p>
<p>iii. æ•´åˆåŒ…ï¼šmybatis-spring</p>
<p>iv. ä¸‰æ–¹åŒ…ï¼š</p>
<ol>
<li><p>aopalliance</p>
</li>
<li><p>aspectj.weaver</p>
</li>
<li><p>c3p0</p>
</li>
<li><p>mchange-commons-java</p>
</li>
<li><p>mysql-connector-java</p>
</li>
</ol>
<h4 id="b-åˆ›å»ºé¡¹ç›®ç»“æ„-package-ï¼šbeanã€serviceã€mapperã€testï¼›"><a href="#b-åˆ›å»ºé¡¹ç›®ç»“æ„-package-ï¼šbeanã€serviceã€mapperã€testï¼›" class="headerlink" title="b) åˆ›å»ºé¡¹ç›®ç»“æ„(package)ï¼šbeanã€serviceã€mapperã€testï¼›"></a>b) åˆ›å»ºé¡¹ç›®ç»“æ„(package)ï¼šbeanã€serviceã€mapperã€testï¼›</h4><p><img src="https://github.com/ZephXu07/IMG/raw/master/ssm_spring_mybatis_txProjectStructure.png" alt="é¡¹ç›®ç»“æ„"></p>
<h4 id="c-åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsqlMapperConfigã€applicaitonContext"><a href="#c-åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsqlMapperConfigã€applicaitonContext" class="headerlink" title="c) åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsqlMapperConfigã€applicaitonContext"></a>c) åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsqlMapperConfigã€applicaitonContext</h4><p>sqlMapperConfigï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span><span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span>        </span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span>             </span><br><span class="line">	<span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.zephxu.bean"</span>/&gt;</span>     </span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>applicaitonContextï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span>    </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span>       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span> <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans       http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/contexthttp://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx        http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--æ•°æ®æº--&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"db.properties"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¯»å–é…ç½®æ–‡ä»¶--&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span><span class="comment">&lt;!--é…ç½®DataSource--&gt;</span>        </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driverClass&#125;"</span>/&gt;</span>       </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.jdbcUrl&#125;"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.user&#125;"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>    </span><br><span class="line"><span class="comment">&lt;!--mybatis--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span>        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:sqlMapConfig.xml"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>    </span><br><span class="line"><span class="comment">&lt;!--mapperå·¥å‚--&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span>        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.zephxu.mapper"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>   </span><br><span class="line"><span class="comment">&lt;!--service--&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"accountService"</span> <span class="attr">class</span>=<span class="string">"com.zephxu.service.AccountServiceImpl"</span>/&gt;</span><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2ã€-åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼šä½¿ç”¨Mapperæ‰«æå¼€å‘ï¼Œè½¬è´¦ï¼›"><a href="#2ã€-åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼šä½¿ç”¨Mapperæ‰«æå¼€å‘ï¼Œè½¬è´¦ï¼›" class="headerlink" title="2ã€ åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼šä½¿ç”¨Mapperæ‰«æå¼€å‘ï¼Œè½¬è´¦ï¼›"></a>2ã€ åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼šä½¿ç”¨Mapperæ‰«æå¼€å‘ï¼Œè½¬è´¦ï¼›</h3><p>AccountMapper.xmlï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">   <span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">   <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span>        <span class="meta-keyword">PUBLIC</span><span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.zephxu.mapper.AccountMapper"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"transferOutMoney"</span> <span class="attr">parameterType</span>=<span class="string">"Account"</span>&gt;</span>        update account set money = money - #&#123;transferMoney&#125; where id = #&#123;id&#125;   </span><br><span class="line">   <span class="tag">&lt;/<span class="name">update</span>&gt;</span>    </span><br><span class="line">   <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"transferInMoney"</span> <span class="attr">parameterType</span>=<span class="string">"Account"</span>&gt;</span> </span><br><span class="line">   updat e account set money = money + #&#123;transferMoney&#125; where id = #&#123;id&#125;    	</span><br><span class="line">   <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="3ã€-åœ¨serviceä¸­åŠ å…¥äº‹åŠ¡ï¼šåˆ©ç”¨Spring-aopäº‹åŠ¡è§£å†³è½¬è´¦å¼‚å¸¸é—®é¢˜ï¼›"><a href="#3ã€-åœ¨serviceä¸­åŠ å…¥äº‹åŠ¡ï¼šåˆ©ç”¨Spring-aopäº‹åŠ¡è§£å†³è½¬è´¦å¼‚å¸¸é—®é¢˜ï¼›" class="headerlink" title="3ã€ åœ¨serviceä¸­åŠ å…¥äº‹åŠ¡ï¼šåˆ©ç”¨Spring-aopäº‹åŠ¡è§£å†³è½¬è´¦å¼‚å¸¸é—®é¢˜ï¼›"></a>3ã€ åœ¨serviceä¸­åŠ å…¥äº‹åŠ¡ï¼šåˆ©ç”¨Spring-aopäº‹åŠ¡è§£å†³è½¬è´¦å¼‚å¸¸é—®é¢˜ï¼›</h3><p>xmlï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--äº‹åŠ¡æ ¸å¿ƒç®¡ç†å™¨--&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span>        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    äº‹åŠ¡é€šçŸ¥--&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span>        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span>            </span><br><span class="line"><span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update*"</span> <span class="attr">isolation</span>=<span class="string">"DEFAULT"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span> <span class="attr">read-only</span>=<span class="string">"false"</span>/&gt;</span>        </span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    aop--&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span>        </span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"txPc"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.zephxu.service.*ServiceImpl.*(..))"</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"txPc"</span>/&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>æ³¨è§£ï¼š<a href="#aop">å¦‚ä¸Š</a></p>
<p><strong>BUGï¼šInvalid bound statement (not found):<br>com.zephxu.mapper.AccountMapper.transferOutMoney</strong></p>
<p><strong>åŸå› ï¼šmavené¡¹ç›®ï¼Œxmlæ–‡ä»¶ä¸åœ¨resourceç›®å½•ä¸‹ï¼Œè€Œåœ¨javaç›®å½•ä¸‹ï¼Œéœ€è¦åœ¨pom.xmlä¸­åŠ ä¸Š</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span>        </span><br><span class="line">	<span class="tag">&lt;<span class="name">resource</span>&gt;</span>   </span><br><span class="line">		<span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span> </span><br><span class="line">      	<span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span>   </span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><a href="https://blog.csdn.net/ccoran/article/details/85044096" target="_blank" rel="noopener">è§£å†³æ–¹æ³•æ¥æº</a></p>
<h2 id="part9ã€æœªå®Œå¾…ç»­â€¦â€¦"><a href="#part9ã€æœªå®Œå¾…ç»­â€¦â€¦" class="headerlink" title="part9ã€æœªå®Œå¾…ç»­â€¦â€¦ "></a>part9ã€æœªå®Œå¾…ç»­â€¦â€¦ </h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/Spring-Learning-Notes/" data-id="ck5qwpk41000qxsj22lugfwmx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssm/" rel="tag">ssm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ssmæ¡†æ¶ç®€ä»‹" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/ssm%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B/" class="article-date">
  <time datetime="2020-01-23T15:22:24.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/ssm%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B/">ssmæ¡†æ¶ç®€ä»‹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SSMæ¡†æ¶ç®€ä»‹ä¸ªäººç¬”è®°"><a href="#SSMæ¡†æ¶ç®€ä»‹ä¸ªäººç¬”è®°" class="headerlink" title="SSMæ¡†æ¶ç®€ä»‹ä¸ªäººç¬”è®°"></a>SSMæ¡†æ¶ç®€ä»‹ä¸ªäººç¬”è®°</h1><h1 id="SSMæ¡†æ¶ç®€ä»‹"><a href="#SSMæ¡†æ¶ç®€ä»‹" class="headerlink" title="SSMæ¡†æ¶ç®€ä»‹ "></a>SSMæ¡†æ¶ç®€ä»‹ </h1><p><a href="http://www.sikiedu.com/my/course/258/material" target="_blank" rel="noopener">æ¥æº</a></p>
<h2 id="whyæ¡†æ¶"><a href="#whyæ¡†æ¶" class="headerlink" title="whyæ¡†æ¶"></a>whyæ¡†æ¶</h2><p>æ¡†æ¶ï¼Œframeworkï¼ŒåŠæˆå“ï¼Œèˆå°ï¼Œä½¿ç”¨è€…è¡¨æ¼”ã€‚å…¶å®Œæˆäº†åº•å±‚åŸºç¡€å·¥ä½œï¼Œä½¿ç”¨è€…å…³æ³¨é¡¹ç›®æœ¬èº«ï¼Œæ¡†æ¶æœ‰ç¨³å®šï¼Œæ˜“ç”¨ï¼Œå®‰å…¨ç­‰ç‰¹æ€§ã€‚</p>
<h2 id="what-SSMæ¡†æ¶"><a href="#what-SSMæ¡†æ¶" class="headerlink" title="what SSMæ¡†æ¶ "></a>what SSMæ¡†æ¶ </h2><p>SSMï¼ŒSpring+SpringMVC+MyBatisçš„ç®€ç§°ï¼Œç›¸æ¯”äºSSHï¼ˆStruts+Spring+Hibernateï¼‰ï¼Œæ›´åŠ è½»é‡åŒ–å’Œçµæ´»ï¼Œæ˜¯ç›®å‰æ¯”è¾ƒä¸»æµçš„JavaWebå¼€å‘æ¡†æ¶ã€‚å…¶ä¼˜ç‚¹ï¼šç®€åŒ–åŸå§‹å¼€å‘æµç¨‹ï¼Œè½»é‡çº§æ˜“ä¸Šæ‰‹ï¼Œä½¿ç”¨äººç¾¤å¤šï¼Œè§£å†³æ–¹æ¡ˆå¤šï¼Œç¨³å®šã€å®‰å…¨ã€‚</p>
<h2 id="SSM-is-made-of"><a href="#SSM-is-made-of" class="headerlink" title="SSM is made of "></a>SSM is made of </h2><p> <strong>Spring</strong><br>ï¼šå®¹å™¨å¤§ç®¡å®¶ï¼Œå¯ç®¡ç†é¡¹ç›®ä¸­å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒæ—¶AOPäº‹åŠ¡å¤§å¤§çš„ä¼˜åŒ–äº†äº‹åŠ¡çš„æ“ä½œç­‰ï¼Œè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å’Œé¢å‘åˆ‡é¢ï¼ˆAOPï¼‰çš„å®¹å™¨æ¡†æ¶ã€‚</p>
<p> <strong>SpringMVC</strong><br>ï¼šæ‰€å±webå±‚ï¼Œå–ä»£äº†servletæŠ€æœ¯è´Ÿè´£å¤„ç†è¯·æ±‚ï¼Œæˆä¸ºè¿æ¥å‰ç«¯çš„æ¡¥æ¢ï¼Œå±äºSpringFrameWorkçš„åç»­äº§å“ï¼Œåˆ†ç¦»äº†æ§åˆ¶å™¨ã€æ¨¡å‹å¯¹è±¡ã€åˆ†æ´¾å™¨ä»¥åŠå¤„ç†ç¨‹åºå¯¹è±¡çš„è§’è‰²ã€‚</p>
<p> <strong>MyBatis</strong><br>ï¼šå±daoå±‚ï¼Œç®€åŒ–äº†æ•°æ®åº“æ“ä½œï¼Œä½¿ç”¨åŠ¨æ€sqlè®©ç¨‹åºå‘˜åªéœ€è¦å…³æ³¨sqlè¯­å¥ã€‚MyBatisä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶,åŒ…æ‹¬SQLMapså’ŒDataAccess<br>Objectsï¼ˆDAOï¼‰MyBatis<br>æ¶ˆé™¤äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç å’Œå‚æ•°çš„æ‰‹å·¥è®¾ç½®ä»¥åŠç»“æœé›†çš„æ£€ç´¢ã€‚MyBatisä½¿ç”¨ç®€å•çš„<br>XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJava çš„POJOsï¼ˆPlain Old Java<br>Objectsï¼Œæ™®é€šçš„ Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</p>
<h2 id="SSMæ¡†æ¶åœ¨webé¡¹ç›®ä¸­æ‰€å¤„çš„ä½ç½®"><a href="#SSMæ¡†æ¶åœ¨webé¡¹ç›®ä¸­æ‰€å¤„çš„ä½ç½®" class="headerlink" title="SSMæ¡†æ¶åœ¨webé¡¹ç›®ä¸­æ‰€å¤„çš„ä½ç½® "></a>SSMæ¡†æ¶åœ¨webé¡¹ç›®ä¸­æ‰€å¤„çš„ä½ç½® </h2><p><img src="https://github.com/ZephXu07/IMG/raw/master/ssm%E7%AE%80%E4%BB%8B1.png" alt="1"></p>
<h2 id="SSMå­¦ä¹ è·¯çº¿"><a href="#SSMå­¦ä¹ è·¯çº¿" class="headerlink" title="SSMå­¦ä¹ è·¯çº¿ "></a>SSMå­¦ä¹ è·¯çº¿ </h2><p> <strong>ç¬¬ä¸€éƒ¨åˆ†ï¼šä½¿ç”¨Mybatiså–ä»£Jdbcã€dbutilsç­‰åŸå§‹æ–¹æ³•æ“ä½œæ•°æ®åº“ï¼›</strong></p>
<p><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šå­¦ä¹ Springæ¡†æ¶ç†è§£IOCã€AOPæ€æƒ³ï¼Œä½¿ç”¨Springæ¥ç®¡ç†å¯¹è±¡ã€äº‹åŠ¡ï¼›</strong></p>
<p><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šå­¦ä¹ SpringMVCæ¡†æ¶å–ä»£ServletæŠ€æœ¯ï¼Œæ•´åˆä¸‰å¤§æ¡†æ¶å®Œæˆè¶…å¸‚è´§ç‰©åå°ç®¡ç†æ¡ˆä¾‹ï¼›</strong></p>
<h2 id="å­¦ä¹ SSMæ¡†æ¶é¢„å¤‡çŸ¥è¯†"><a href="#å­¦ä¹ SSMæ¡†æ¶é¢„å¤‡çŸ¥è¯†" class="headerlink" title="å­¦ä¹ SSMæ¡†æ¶é¢„å¤‡çŸ¥è¯† "></a>å­¦ä¹ SSMæ¡†æ¶é¢„å¤‡çŸ¥è¯† </h2><p> <strong>1ã€</strong> <strong>JavaåŸºç¡€ï¼›</strong></p>
<p> <strong>2ã€</strong> <strong>JavaWebæŠ€æœ¯ï¼›</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/ssm%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B/" data-id="ck5qwpk3b0003xsj27q99054p" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssm/" rel="tag">ssm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mavenç¬”è®°" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/maven%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2020-01-23T15:21:29.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/maven%E7%AC%94%E8%AE%B0/">mavenç¬”è®°</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="mavenç¬”è®°"><a href="#mavenç¬”è®°" class="headerlink" title="mavenç¬”è®° "></a>mavenç¬”è®° </h1><p><strong>Maven</strong>é¡¹ç›®ç®¡ç†</p>
<p><a href="http://www.sikiedu.com/course/284/material/14783/download" target="_blank" rel="noopener">siki</a></p>
<p><strong>Maven</strong>æ˜¯ä»€ä¹ˆï¼Ÿ<br>Mavenæ˜¯Apacheä¸‹çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå®ƒç”±çº¯Javaè¯­è¨€å¼€å‘ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿çš„ç®¡ç†å’Œæ„å»ºJavaé¡¹ç›®ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Mavenï¼Ÿ</strong></p>
<p>1ã€ jaråŒ…ç®¡ç†ï¼š</p>
<p>a)<br>ä»Mavenä¸­å¤®ä»“åº“è·å–æ ‡å‡†çš„è§„èŒƒçš„jaråŒ…ä»¥åŠç›¸å…³ä¾èµ–çš„jaråŒ…ï¼Œé¿å…è‡ªå·±ä¸‹è½½åˆ°é”™è¯¯çš„jaråŒ…ï¼›</p>
<p>b) æœ¬åœ°ä»“åº“ç»Ÿä¸€ç®¡ç†jaråŒ…ï¼Œä½¿jaråŒ…ä¸é¡¹ç›®åˆ†ç¦»ï¼Œå‡è½»é¡¹ç›®ä½“ç§¯ã€‚</p>
<p>2ã€ mavenæ˜¯è·¨å¹³å°çš„å¯ä»¥åœ¨windowã€linuxä¸Šä½¿ç”¨ã€‚</p>
<p>3ã€ æ¸…æ™°çš„é¡¹ç›®ç»“æ„ï¼›</p>
<p>4ã€ å¤šå·¥ç¨‹å¼€å‘ï¼Œå°†æ¨¡å—æ‹†åˆ†æˆè‹¥å¹²å·¥ç¨‹ï¼Œåˆ©äºå›¢é˜Ÿåä½œå¼€å‘ã€‚</p>
<p>5ã€<br>ä¸€é”®æ„å»ºé¡¹ç›®ï¼šä½¿ç”¨å‘½ä»¤å¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œä¸€é”®æ„å»ºï¼Œæ“ä½œç³»ç»Ÿä¸­æ— éœ€å®‰è£…eclipseå’Œtomcatã€‚</p>
<p><strong>æˆ‘èƒ½ä»è¿™é—¨è¯¾ä¸­å­¦åˆ°ä»€ä¹ˆï¼Ÿ</strong></p>
<p>1ã€ äº†è§£Mavenå’Œå®ƒçš„ä¼˜ç‚¹ï¼›</p>
<p>2ã€ æŒæ¡Mavené¡¹ç›®é…ç½®ã€å‘½ä»¤ï¼›</p>
<p>3ã€ ä½¿ç”¨Maven+Tomcatè¿›è¡Œçƒ­éƒ¨ç½²ï¼›</p>
<p>4ã€ ä½¿ç”¨Mavené›†æˆSSMæ¡†æ¶ï¼›</p>
<p>5ã€ ä½¿ç”¨Mavenåˆ†æ¨¡å—å¼€å‘ï¼›</p>
<p>6ã€ å­¦ä¼šMavenç§æœçš„æ­å»ºå’Œä½¿ç”¨ï¼›</p>
<p><a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">Mavenä»å“ªè·å–ï¼Ÿ</a></p>
<p><strong>å¼€å§‹å­¦ä¹ Mavené¡¹ç›®ç®¡ç†å·¥å…·</strong></p>
<p>Part.1 Mavenå…¥é—¨ï¼š</p>
<p>1ã€ ä¸‹è½½ã€å®‰è£…ã€é…ç½®ç¯å¢ƒå˜é‡Mavenï¼›</p>
<p>a) å®‰è£…JDK 1.8ï¼›</p>
<p>b) é…ç½®ç¯å¢ƒå˜é‡ï¼›</p>
<p> i. win + r æ‰“å¼€è¿è¡Œçª—å£ æˆ–è€… è¿›å…¥cmdå‘½ä»¤çª—å£ï¼›</p>
<p> ii. è¾“å…¥sysdm.cplæ‰“å¼€ç³»ç»Ÿå±æ€§ -&gt; é«˜çº§ -&gt; ç¯å¢ƒå˜é‡ï¼›</p>
<p> iii. æ–°å»ºç³»ç»Ÿå˜é‡ï¼Œå˜é‡åï¼šMAVEN_HOMEï¼Œå˜é‡å€¼ï¼šMavenå®‰è£…è·¯å¾„ï¼›</p>
<p> iv. åœ¨Pathä¸‹è¿½åŠ ä¸€æ¡å±æ€§æŒ‡å‘Mavençš„binç›®å½• %MAVEN_HOME%/bin</p>
<p>2ã€ Mavençš„ä¼˜ç‚¹ï¼š</p>
<p>a) jaråŒ…ç®¡ç†ï¼šä¾èµ–ç®¡ç†</p>
<p> i.<br>ä»Mavenä¸­å¤®ä»“åº“è·å–æ ‡å‡†çš„è§„èŒƒçš„jaråŒ…ä»¥åŠç›¸å…³ä¾èµ–çš„jaråŒ…ï¼Œé¿å…è‡ªå·±ä¸‹è½½åˆ°é”™è¯¯çš„jaråŒ…ï¼›</p>
<p> ii. æœ¬åœ°ä»“åº“ç»Ÿä¸€ç®¡ç†jaråŒ…ï¼Œä½¿jaråŒ…ä¸é¡¹ç›®åˆ†ç¦»ï¼Œå‡è½»é¡¹ç›®ä½“ç§¯ã€‚</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/1.png?raw=true" alt="1"></p>
<p>(Mavené¡¹ç›®è·å–jaråŒ…çš„æ–¹å¼)</p>
<p> iii. Mavené¡¹ç›®é€šè¿‡åæ ‡çš„æ–¹å¼ä»æœ¬åœ°ä»“åº“è·å–jaråŒ…ï¼›</p>
<p>\1. åæ ‡ï¼šç”±å…¬å¸/ç»„ç»‡å(groupId) + é¡¹ç›®å/å­é¡¹ç›®å(artifactId) +<br>ç‰ˆæœ¬å·(version)ç»„æˆï¼›</p>
<p>\2. æœ¬åœ°ä»“åº“ï¼šå­˜æ”¾å¾ˆå¤šjaråŒ…ï¼Œä¾›Mavené¡¹ç›®ä½¿ç”¨ï¼›</p>
<p>\3.<br>Mavené€šè¿‡å»ºç«‹æœ¬åœ°ä»“åº“ç´¢å¼•ï¼Œå¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„jaråŒ…ï¼Œä»è€Œè§£å†³æ•ˆç‡é—®é¢˜ï¼›</p>
<p>\4. å¤šä¸ªMavené¡¹ç›®éƒ½å¯ä»¥ä»æœ¬åœ°ä»“åº“è·å–jaråŒ…ï¼›</p>
<p>\5. è®¾ç½®æœ¬åœ°ä»“åº“ï¼šmavenæ ¹ç›®å½• -&gt; conf -&gt;<br>settings.xmlï¼Œå°†localRepositoryæ ‡ç­¾ä¸­çš„è·¯å¾„æ›¿æ¢æˆè‡ªå·±æœ¬åœ°ä»“åº“çš„è·¯å¾„ï¼›</p>
<p> iv. Mavenä¸‰ç§ä»“åº“æ¦‚å¿µï¼šæœ¬åœ°ä»“åº“ã€è¿œç¨‹ä»“åº“ã€ä¸­å¤®ä»“åº“</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/2.png?raw=true" alt="2"></p>
<p>(Mavenä¸‰ç§ä»“åº“æ¦‚å¿µ)</p>
<p> v. è®¾ç½®é˜¿é‡Œäº‘Mavenä»“åº“é•œåƒï¼š</p>
<p>\1. åœ¨settings.xmlæ–‡ä»¶ä¸­çš„mirrorsä¸‹æ·»åŠ mirroræ ‡ç­¾ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyunmaven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span>			</span><br><span class="line">	<span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b) mavenç”±çº¯Javaè¯­è¨€å¼€å‘ï¼Œæ˜¯è·¨å¹³å°çš„å¯ä»¥åœ¨windowã€linuxã€macä¸Šä½¿ç”¨ã€‚</p>
<p>c) æ¸…æ™°çš„é¡¹ç›®ç»“æ„ï¼›</p>
<p>d)<br>ä½¿ç”¨Mavenå°†å¤§å‹é¡¹ç›®æŒ‰ç…§æ¨¡å—æ‹†åˆ†æˆè‹¥å¹²å·¥ç¨‹ï¼Œä¸åŒçš„å›¢é˜Ÿç»´æŠ¤å„è‡ªçš„å·¥ç¨‹ï¼Œå¯å¤§å¤§çš„æå‡å¼€å‘æ•ˆç‡ï¼›</p>
<p> i. å¤§å‹å•†åŸé¡¹ç›®æŒ‰ä¸šåŠ¡åˆ†æˆå•†å“ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€è®¢å•ç®¡ç†ç­‰ç­‰æ¨¡å—ã€‚</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/3.png?raw=true" alt="3"></p>
<p>(å¤§å‹é¡¹ç›®ï¼Œåˆ†æ¨¡å—å¼€å‘)</p>
<p> ii.<br>ä¸­å°å‹é¡¹ç›®æŒ‰ç…§ä¼ ç»Ÿé¡¹ç›®åˆ†ä¸ºWebã€Serviceã€Daoå±‚ï¼Œä¾ç…§å‘˜å·¥è‡ªèº«çš„ä¸šåŠ¡èƒ½åŠ›åˆ†é…å·¥ä½œã€‚</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/4.png" alt="4"></p>
<p>(ä¸­å°å‹é¡¹ç›®ï¼Œåˆ†å±‚å¼€å‘)</p>
<p>e)<br>ä¸€é”®æ„å»ºé¡¹ç›®ï¼šä½¿ç”¨å‘½ä»¤å¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œä¸€é”®æ„å»ºï¼Œæ“ä½œç³»ç»Ÿä¸­æ— éœ€å®‰è£…eclipseå’Œtomcatã€‚</p>
<p>3ã€ Mavenå¸¸ç”¨å‘½ä»¤ï¼š</p>
<p>a) cleanï¼š æ¸…ç†ï¼Œç¼–è¯‘åçš„ç›®å½•ï¼›</p>
<p>b) compileï¼š ç¼–è¯‘ï¼Œåªç¼–è¯‘mainç›®å½•ï¼Œä¸ç¼–è¯‘testä¸­çš„ä»£ç ï¼›</p>
<p>c) test-compileï¼šç¼–è¯‘testç›®å½•ä¸­çš„ä»£ç ï¼›</p>
<p>d) testï¼š è¿è¡Œtesté‡Œè¾¹çš„ä»£ç ï¼›</p>
<p>e) packageï¼š æ‰“åŒ…</p>
<p> i. javaé¡¹ç›®-&gt;æ‰“æˆjaråŒ…ï¼›</p>
<p> ii. webé¡¹ç›®-&gt;æ‰“æˆwaråŒ…ï¼›</p>
<p>f)<br>installï¼šå‘å¸ƒé¡¹ç›®åˆ°æœ¬åœ°ä»“åº“ï¼Œç”¨åœ¨æ‰“jaråŒ…ä¸Šï¼Œæ‰“æˆjaråŒ…å¯ä»¥è¢«å…¶ä»–é¡¹ç›®ä½¿ç”¨ï¼›</p>
<p>g) tomcat:runï¼šä¸€é”®æ„å»ºé¡¹ç›®ï¼›</p>
<p>4ã€ Mavenå‘½ä»¤çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>a) Clean ç”Ÿå‘½å‘¨æœŸï¼šcleanï¼›</p>
<p>b) Default ç”Ÿå‘½å‘¨æœŸï¼šcompileã€test-compileã€testã€packageã€install</p>
<p>c) Site ç”Ÿå‘½å‘¨æœŸï¼šsiteå‘½ä»¤ï¼Œç”Ÿæˆé¡¹ç›®æè¿°æ–‡æ¡£é™æ€é¡µï¼›</p>
<p>d) ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥ä¸€èµ·æ‰§è¡Œï¼Œä¾‹å¦‚å…ˆclean å†compileï¼›</p>
<p>5ã€ Mavenå‘½ä»¤çš„æ‰§è¡Œé¡ºåºï¼š</p>
<p>a) åœ¨ç›¸åŒç”Ÿå‘½å‘¨æœŸä¸­çš„å‘½ä»¤æ‰ä¼šå—æ‰§è¡Œé¡ºåºçš„å½±å“ï¼›</p>
<p>b) Defaultç”Ÿå‘½å‘¨æœŸä¸­çš„å‘½ä»¤æ‰§è¡Œé¡ºåºï¼š</p>
<p>compile &lt;- test-compile &lt;- test &lt;- package &lt;- installï¼›</p>
<p>Part.2 Mavenå…¥é—¨ç¨‹åºï¼š</p>
<p>Ã˜ å…¥é—¨ç¨‹åºï¼š</p>
<p>1ã€ åˆ›å»ºMavené¡¹ç›®ï¼›</p>
<p>2ã€ åœ¨src -&gt; main -&gt; webappä¸‹åˆ›å»ºWEB-INFç›®å½•ï¼Œå¹¶åœ¨ç›®å½•ä¸‹åˆ›å»ºweb.xmlï¼›</p>
<p>3ã€ ä¿®æ”¹Mavené»˜è®¤ç¼–è¯‘çº§åˆ«ï¼š</p>
<p>a) å…¨å±€ç¼–è¯‘çº§åˆ« -&gt; ä¿®æ”¹settings.xml</p>
<p>b) é¡¹ç›®çº§åˆ«ä¿®æ”¹ -&gt; é¡¹ç›®å¯¹åº”çš„pom.xml</p>
<p>4ã€ åœ¨Java Resourcese -&gt; src/main/javaä¸‹å†™ä»£ç ï¼Œåˆ›å»ºåŒ…å’ŒServletï¼›</p>
<p>5ã€ æ·»åŠ servlet-apiï¼š</p>
<p>6ã€ åœ¨servlet-apiä¸­æ·»åŠ scopeæ ‡ç­¾ï¼Œå€¼ä¸ºï¼šproviedeï¼›</p>
<p>a)<br>å¦‚æœä¸åŠ æ­¤æ ‡ç­¾æœ‰å¾ˆå¤§å‡ ç‡æŠ¥é”™ï¼Œå› ä¸ºtomcatä¸­ä¹Ÿæœ‰servlet-apiçš„åŒ…å¯¼è‡´å†²çªï¼›</p>
<p>7ã€<br>è¿è¡Œï¼šå‘ç”Ÿé”™è¯¯ï¼ŒåŸå› æ˜¯mavené»˜è®¤ä½¿ç”¨tomcat6.xxï¼Œä¸æ”¯æŒ@WebServleæ³¨è§£ï¼›</p>
<p>a) è§£å†³æ–¹æ¡ˆ1ï¼šéœ€è¦å»web.xmlä¸­é…ç½®Servlet;</p>
<p>b) è§£å†³æ–¹æ¡ˆ2ï¼šé…ç½®é«˜ç‰ˆæœ¬tomcatæ’ä»¶ï¼›</p>
<p>8ã€ æœ€åæµ‹è¯•ï¼Œå¯åŠ¨æœåŠ¡ï¼Œåœ¨åœ°å€æ è¾“å…¥è¯·æ±‚ï¼Œæ˜¾ç¤ºç»“æœï¼›</p>
<p>Ã˜ ä½¿ç”¨tomcat7æ’ä»¶è¿è¡Œé¡¹ç›®ï¼›</p>
<p>Ã˜<br>Scopeä¾èµ–ä½œç”¨åŸŸä¹Ÿå¯ç§°ä½œä¾èµ–èŒƒå›´ï¼šmavenä¸­çš„ä¾èµ–ï¼Œä¼šæ ¹æ®ç¨‹åºæ‰€å¤„çš„é˜¶æ®µå’Œåœºæ™¯å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥mavenç”¨scopeå±æ€§æ¥åšé™åˆ¶ï¼›</p>
<p>a) compileï¼ˆé»˜è®¤å€¼ï¼‰ï¼šåœ¨ç¼–è¯‘ã€è¿è¡Œã€æµ‹è¯•ã€æ‰“åŒ…éƒ½æœ‰æ•ˆï¼›</p>
<p>b) providedï¼šç¼–è¯‘ã€æµ‹è¯•æ—¶æœ‰æ•ˆï¼Œè¿è¡Œã€æ‰“åŒ…æ— æ•ˆï¼›</p>
<p>c) testï¼šä»…åœ¨æµ‹è¯•æ—¶æœ‰æ•ˆï¼›</p>
<p>d) runtimeï¼šæµ‹è¯•ã€è¿è¡Œã€æ‰“åŒ…æ—¶æœ‰æ•ˆï¼›</p>
<p>e)<br>systemï¼šä¸æ¨èä½¿ç”¨ï¼Œä½¿ç”¨systemä½œç”¨åŸŸä¸ä¼šå»æœ¬åœ°ä»“åº“å¯»æ‰¾ä¾èµ–ï¼Œè¦æŒ‡å®šæœ¬åœ°è·¯å¾„ï¼›</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/5.png" alt="5"></p>
<p>ï¼ˆä¾èµ–å…³ç³»ä¸­ä½œç”¨åŸŸè¯´æ˜ï¼‰</p>
<p><strong>Part.3 Maven 3.5.4 + tomcat 8.5.32</strong> <strong>çƒ­éƒ¨ç½²ï¼š</strong></p>
<p> çƒ­éƒ¨ç½²ï¼šåœ¨tomcatè¿è¡Œæ—¶å°†é¡¹ç›®éƒ¨ç½²ä¸Šå»ï¼›</p>
<p>1ã€ å¼€å¯tomcatçƒ­éƒ¨ç½²ï¼š</p>
<p>a) ä¿®æ”¹tomcat -&gt; conf-&gt; tomcat-users.xml é…ç½®æ–‡ä»¶ï¼›</p>
<p>b) åœ¨tomcat-usersæ ‡ç­¾ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-gui"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-script"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">"joey"</span> <span class="attr">password</span>=<span class="string">"123123"</span> <span class="attr">roles</span>=<span class="string">"manager-gui, manager-script"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>c) å¯åŠ¨tomcatï¼›</p>
<p>d) ä¿®æ”¹é¡¹ç›®ä¸­pom.xmlï¼Œåœ¨tomcat7çš„æ’ä»¶ä¸Šæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8080/manager/text<span class="tag">&lt;/<span class="name">url</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">username</span>&gt;</span>joey<span class="tag">&lt;/<span class="name">username</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">password</span>&gt;</span>123123<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span>          |</span><br></pre></td></tr></table></figure>

<p>e) å³é”®é¡¹ç›®-&gt; run as -&gt; maven buildâ€¦<br>åœ¨goalsä¸­ä½¿ç”¨tomcat7:deployæˆ–tomcat7:redeployæ¥è¿›è¡Œçƒ­éƒ¨ç½²ï¼›</p>
<p> i. tomcat7:deployï¼Œç¬¬ä¸€æ¬¡éƒ¨ç½²æ—¶ä½¿ç”¨ã€‚</p>
<p> ii. tomcat7:redeployï¼Œéç¬¬ä¸€æ¬¡éƒ¨ç½²æ—¶ä½¿ç”¨ã€‚</p>
<p>f) éƒ¨ç½²å®Œæ¯•ï¼Œæ‰“å¼€æµè§ˆå™¨æµ‹è¯•ï¼›</p>
<p><strong>Part.4 Maven</strong> <strong>æ•´åˆSSMæ¡†æ¶ ï¼š</strong></p>
<p>1ã€ Maven+SSMæ¡†æ¶æ•´åˆï¼›</p>
<p>a) åŠ å…¥SSMæ¡†æ¶æ‰€éœ€çš„ä¾èµ–ï¼›</p>
<p>b) é…ç½®æ’ä»¶ï¼›</p>
<p>c) å¯¼å…¥SSMæ¡†æ¶æ‰€éœ€é…ç½®æ–‡ä»¶ï¼›</p>
<p>d) é…ç½®Maven Resourcesèµ„æºæ”¾è¡Œï¼š</p>
<p> i.<br>å› ä¸ºMavenä¼šæŠŠsrc/main/javaä¸‹çš„*.javaæ–‡ä»¶æ–‡ä»¶ç¼–è¯‘æ”¾åˆ°target/classesç›®å½•ç›®å½•ä¸­ï¼Œä½†è¿™ç›®å½•ä¸­çš„å…¶ä»–æ–‡ä»¶ä¼šè¢«å¿½ç•¥ï¼›</p>
<p> ii. Mybatis Mapperæ˜ å°„æ–‡ä»¶ä¹Ÿè¦æ”¾åœ¨src/main/javaä¸‹ï¼Œæ‰€ä»¥ä¸èƒ½å¿½ç•¥ï¼›</p>
<p> iii. å› æ­¤æˆ‘ä»¬éœ€è¦å¯¹src/main/javaä¸‹çš„é…ç½®æ–‡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œä¸èƒ½è¢«å¿½ç•¥ï¼›</p>
<p> iv. åˆ©ç”¨Mavenä¸­çš„Resourcesæ ‡ç­¾å¯ä»¥è¿›è¡Œé…ç½®ï¼›</p>
<p>2ã€ æµ‹è¯•ï¼›</p>
<p>a) æ–°å»ºåä¸ºUserçš„beanå¯¹è±¡ï¼Œæœ‰usernameï¼Œpasswordä¿©å­—æ®µï¼›</p>
<p>b) æ–°å»ºlogin.jspï¼Œå¯ä»¥è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œé€šè¿‡è¡¨å•æäº¤åˆ°åå°ï¼›</p>
<p>c) åå°æ¥å—ç”¨æˆ·åå’Œå¯†ç ï¼Œè·³è½¬é¡µé¢ï¼Œå¹¶æ˜¾ç¤ºï¼›</p>
<p>3ã€ è¯»å–æ•°æ®åº“æ˜¾ç¤ºæ¸¸æˆåˆ—è¡¨ï¼›</p>
<p>a) å¯¼å…¥item_infoè¡¨ï¼›</p>
<p>b) åœ¨login.jspä¸­å¢åŠ buttonï¼Œç‚¹å‡»åè·³è½¬é¡µé¢ï¼Œæ˜¾ç¤ºåˆ—è¡¨ï¼›</p>
<p><strong>Part.5 Maven</strong> <strong>æ¨¡å—åŒ–å¼€å‘ ï¼š</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/6.png" alt="6"></p>
<p>ï¼ˆMavenæ¨¡å—åŒ–å¼€å‘é¡¹ç›®ä¾èµ–å…³ç³»ï¼‰</p>
<p>Ã˜ éœ€æ±‚ï¼šå°†Maven-SSMé¡¹ç›®ä»¥å±‚ä¸ºå•ä½æ‹†åˆ†ï¼ŒæŒ‰æ¨¡å—å¼€å‘ï¼›</p>
<p>1ã€ åˆ›å»ºçˆ¶é¡¹ç›®ï¼Œåœ¨çˆ¶é¡¹ç›®ä¸­åŠ å…¥ä¾èµ–ï¼›</p>
<p>2ã€ åˆ›å»ºmapperå±‚å­é¡¹ç›®ç»§æ‰¿çˆ¶é¡¹ç›®ï¼›</p>
<p>3ã€ å­é¡¹ç›®å¯ä»¥ç»§æ‰¿çˆ¶é¡¹ç›®çš„ä¾èµ–ï¼›</p>
<p>4ã€ åˆ©ç”¨junitæµ‹è¯•mapperæ¨¡å—é¡¹ç›®ï¼›</p>
<p>5ã€ Mavençš„ä¾èµ–ä¼ é€’ï¼Œä¸ä¾èµ–ç‰ˆæœ¬ç®¡ç†ï¼›</p>
<p>a) ä¾èµ–ä¼ é€’ï¼šæ·»åŠ ä¾èµ–çš„jaråŒ…å¦‚æœè¿˜ä¾èµ–å…¶ä»–jaråŒ…ï¼Œåˆ™åœ¨æ·»åŠ æ—¶ä¼šä¸€èµ·å¼•å…¥ï¼›</p>
<p>b) ä¾èµ–å†²çªï¼šBase-projectç”±3ä¸ªå­é¡¹ç›®ç»„æˆï¼ŒA-projectä¾èµ–Tools.jar<br>1.0ç‰ˆæœ¬ï¼ŒC-projectä¾èµ–Tools.jar<br>2.0ç‰ˆæœ¬ï¼Œæ ¹æ®ä¾èµ–ä¼ é€’æœºåˆ¶ï¼ŒBase-projectå°†åŒæ—¶ä¾èµ–Tools.jarä¸¤ä¸ªç‰ˆæœ¬ï¼Œä½†è¿™é€ æˆäº†å†²çªã€‚æ ¹æ®è·¯å¾„æœ€è¿‘è·èƒœç­–ç•¥ï¼Œè¯¥é¡¹ç›®æœ€ç»ˆä¾èµ–Tools.jar<br>1.0ï¼Œå¯¼è‡´C-projectæ— æ³•è°ƒç”¨getAllæ–¹æ³•ä»è€ŒæŠ¥é”™ï¼Œå› æ­¤æˆ‘ä»¬è¦æ‰‹åŠ¨é€‰æ‹©ä¸€ä¸ªé€‚åˆé¡¹ç›®çš„ç‰ˆæœ¬ã€‚</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/7.png" alt="7"></p>
<p>ï¼ˆMavenæ¨¡å—åŒ–å¼€å‘é¡¹ç›®ä¾èµ–å…³ç³»ï¼‰</p>
<p>c) è§£å†³ä¾èµ–å†²çªçš„åŠæ³•ï¼š</p>
<p> i. ç›´æ¥å£°æ˜ï¼šç›´æ¥æ·»åŠ Tools.jar 2.0ä¾èµ–ï¼›</p>
<p> ii.<br>æ’é™¤ï¼šä½¿ç”¨<code>&lt;dependency&gt;</code>æ ‡ç­¾ä¸­çš„<code>&lt;exclusions&gt;</code>æ ‡ç­¾æ’é™¤A-projectä¸­çš„Tools.jar<br>1.0ä¾èµ–ï¼›</p>
<p> iii. ä¾èµ–ç®¡ç†ï¼Œç‰ˆæœ¬é”å®šï¼š<code>&lt;dependencyManagement&gt;</code></p>
<p>\1.<br><code>&lt;dependencyManagement&gt;</code>æ˜¯ä¾èµ–ç®¡ç†ï¼Œè¯¥æ ‡ç­¾ä¸‹æ·»åŠ çš„<code>&lt;dependencies&gt;</code>å¯ä»¥å£°æ˜ä¾èµ–ï¼Œä½†æ˜¯ä¸ä¼šå¼•å…¥jaråŒ…ï¼›</p>
<p>\2.<br>åªæœ‰å£°æ˜åœ¨<code>&lt;project&gt;</code>æ ‡ç­¾ä¸‹<code>&lt;dependencies&gt;</code>ä¸­çš„ä¾èµ–æ‰ä¼šè¢«å¼•ç”¨åˆ°é¡¹ç›®ä¸­ï¼›</p>
<p>\3.<br>åœ¨<code>&lt;dependencyManagement&gt;</code>ä¸‹æ·»åŠ jaråŒ…åæ ‡åï¼Œ<code>&lt;project&gt;</code>æ ‡ç­¾ä¸‹<code>&lt;dependencies&gt;</code>æ ‡ç­¾çš„ç‰ˆæœ¬å·å¯ä»¥å¿½ç•¥ä¸å†™ï¼›</p>
<p>\4.<br><code>&lt; properties&gt;</code>æ ‡ç­¾å¯ä»¥è‡ªå®šä¹‰ç‰ˆæœ¬å·ï¼Œç”¨elè¡¨è¾¾å¼èµ‹å€¼ç»™<code>&lt;version&gt;</code>æ ‡ç­¾ï¼›</p>
<p>\5. ç»Ÿä¸€ç®¡ç†jaråŒ…ç‰ˆæœ¬ï¼Œä¿®æ”¹æ–¹ä¾¿ï¼›</p>
<p>6ã€ åˆ›å»ºscerviceæ¨¡å—é¡¹ç›®ï¼Œåˆ©ç”¨junitæµ‹è¯•serviceæ¨¡å—é¡¹ç›®ï¼›</p>
<p>7ã€ ä¾èµ–ä½œç”¨åŸŸå¯¹ä¾èµ–ä¼ é€’çš„å½±å“ï¼›</p>
<p>8ã€ åˆ›å»ºcontrolleræ¨¡å—é¡¹ç›®ï¼Œè¿è¡Œç¨‹åºï¼›</p>
<p><strong>Part.6 Maven</strong> <strong>è¿œç¨‹ä»“åº“Nexusï¼ˆç§æœï¼‰ ï¼š</strong></p>
<p>Ã˜ Nexusè·å–ä¸é…ç½®ï¼š</p>
<p>1ã€ ä¸‹è½½Nexus<br><a href="https://www.sonatype.com/download-oss-sonatype?hsCtaTracking=920dd7b5-7ef3-47fe-9600-10fecad8aa32|f59d5f10-099f-4c66-a622-0254373f4a92" target="_blank" rel="noopener">ç‚¹å‡»æˆ‘ä¸‹è½½</a></p>
<p>2ã€ Nexuså®‰è£…ï¼Œè§£å‹ç¼©åˆ°æœ¬åœ°å³å¯ï¼›</p>
<p>3ã€<br>Nexuså®‰è£…ç›®å½•ä¸‹nexus-3.14.0-04/etc/nexus-default.propertiesé…ç½®è¡¨ä¸­å¯ä»¥ä¿®æ”¹ä»¥ä¸‹å±æ€§ï¼š</p>
<p>a) application-host : NexusæœåŠ¡ç›‘å¬çš„ä¸»æœºï¼›</p>
<p>b) application-port: NexusæœåŠ¡ç›‘å¬çš„ç«¯å£ï¼›</p>
<p>c) nexus-context-path : NexusæœåŠ¡çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼›</p>
<p>4ã€ NexusæœåŠ¡é…ç½®å’Œå¯åŠ¨ï¼š</p>
<p>a) ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd -&gt;<br>è¿›å…¥åˆ°nexuså®‰è£…ç›®å½•../nexus-3.14.0-04/binç›®å½•ä¸‹ï¼›</p>
<p>b) åœ¨cmdä¸­è¿è¡Œ nexus.exe/install å¯ä»¥å®‰è£…nexusæœåŠ¡ï¼›</p>
<p>c) åœ¨cmdä¸­è¿è¡Œ nexus.exe/start å¯ä»¥å¯åŠ¨nexusæœåŠ¡ï¼›</p>
<p>d) åœ¨cmdä¸­è¿è¡Œ nexus.exe/stop å¯ä»¥åœæ­¢nexusæœåŠ¡ï¼›</p>
<p>5ã€ ç™»å½•Nexusï¼š</p>
<p>a)<br>å¯åŠ¨æœåŠ¡åï¼Œæ ¹æ®nexus-default.propertiesçš„é…ç½®è¿›è¡Œç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œå¯ä»¥<a href="http://localhost:8081" target="_blank" rel="noopener">ç‚¹å‡»æ­¤å¤„</a>æ¥ç™»å½•ï¼›</p>
<p>b) é»˜è®¤ç”¨æˆ·åæ˜¯adminï¼Œå¯†ç æ˜¯admin123ï¼›</p>
<p>6ã€ ä»“åº“ç±»å‹ï¼šnexusæœ‰å¤šç§ä»“åº“ç±»å‹ï¼š</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/8.png" alt="8"></p>
<p>ï¼ˆNexusä»“åº“ç±»å‹ä»‹ç»ï¼‰</p>
<p>Ã˜ Nexusä½¿ç”¨ï¼š</p>
<p>éœ€æ±‚ï¼šå°†é¡¹ç›®ä¸­çš„mapper.jaråŒ…æäº¤åˆ°è¿œç¨‹ä»“åº“ä¸­ï¼Œ<br>ä½¿serviceé¡¹ç›®ä»è¿œç¨‹ä»“åº“è·å–ï¼›</p>
<p>Â² ä¸Šä¼ jaråŒ…åˆ°è¿œç¨‹ä»“åº“ï¼›</p>
<p>1ã€ åœ¨Mavençš„ setting.xmlä¸­é…ç½®nexusè®¿é—®æƒé™ï¼›</p>
<p>2ã€ åœ¨é¡¹ç›®çš„pom.xmlä¸­é…ç½®nexusä»“åº“ä½ç½®ï¼›</p>
<p>3ã€ ä»¥ä¸Š2ä¸ªé…ç½®æ ‡ç­¾ä¸­çš„idè¦ä¸€è‡´ï¼›</p>
<p>4ã€ ä½¿ç”¨deployå‘½ä»¤å°†é¡¹ç›®æ‰“åŒ…ï¼Œå‘å¸ƒåˆ°nexusä¸­ï¼›</p>
<p>5ã€ æ£€æŸ¥ä»“åº“ä¸­æ˜¯å¦æœ‰ä¸Šä¼ å¥½çš„jaråŒ…ï¼›</p>
<p>Â² ä»è¿œç¨‹ä»“åº“ä¸‹è½½jaråŒ…ï¼š</p>
<p>1ã€ ä½¿ç”¨profilesæ ‡ç­¾åœ¨Mavençš„setting.xmlä¸­é…ç½®ä»“åº“ä½ç½®ï¼›</p>
<p>2ã€ æ¿€æ´»profilesæ ‡ç­¾ï¼Œä½¿å®ƒå‘ç”Ÿä½œç”¨ï¼›</p>
<p>3ã€ å¦‚æœä¹‹å‰æ‰“åŒ…äº†ï¼Œåˆ é™¤æœ¬åœ°ä»“åº“ä¸‹çš„mapper.jarï¼›</p>
<p>4ã€ å…³é—­mapperå­é¡¹ç›®ï¼Œè®©serviceå­é¡¹ç›®ä¾èµ–mapper.jaråŒ…ï¼›</p>
<p>5ã€ æ›´æ–°é¡¹ç›®ï¼Œä»è¿œç¨‹ä»“åº“ä¸­è·å–mapper.jarï¼›</p>
<p>Â² ä½¿ç”¨è‡ªå®šä¹‰ç”¨æˆ·å’Œè‡ªå®šä¹‰ä»“åº“è¿›è¡Œä¸Šä¼ å’Œä¸‹è½½jaråŒ…ï¼š</p>
<p>1ã€ å»ºè®®å…ˆå°†ç®¡ç†å‘˜å¯†ç ä¿®æ”¹ï¼›</p>
<p>2ã€ åœ¨Rolesä¸­å¯ä»¥å¢åŠ ç”¨æˆ·æƒé™ç»„ï¼Œé‡Œè¾¹å¯ä»¥è‡ªå®šä¹‰ç”¨æˆ·æƒé™ï¼›</p>
<p>3ã€ åœ¨Usersä¸­å¯ä»¥å¢åŠ ç”¨æˆ·ï¼Œåˆ†é…è®¾ç½®å¥½çš„æƒé™ï¼›</p>
<p>4ã€ åœ¨Repositoriesä¸­æ–°å»ºä»“åº“ï¼›</p>
<p>a) nameï¼šä»“åº“åç§°ï¼›</p>
<p>b) version pollcyï¼šç‰ˆæœ¬ç­–ç•¥ï¼›</p>
<p> i. Releaseï¼šå‘è¡Œç‰ˆï¼›</p>
<p> ii. Snapshotï¼šå¿«ç…§ç‰ˆï¼›</p>
<p> iii. Mixedï¼šæ··åˆæ¨¡å¼ï¼›</p>
<p>c) Layout pollcyï¼šå¸ƒå±€ç­–ç•¥ï¼›</p>
<p> i. Strictï¼šä¸¥æ ¼ï¼›</p>
<p> ii. Permissiveï¼šå®½æ¾ï¼›</p>
<p>d) Deployment pollcyï¼šéƒ¨ç½²ç­–ç•¥ï¼›</p>
<p> i. Allow redeployï¼šå…è®¸é‡æ–°éƒ¨ç½²ï¼›</p>
<p> ii. Disable redeployï¼šç¦æ­¢é‡æ–°éƒ¨ç½²ï¼›</p>
<p> iii. Read-onlyï¼šåªè¯»ï¼›</p>
<p>5ã€ ä¿®æ”¹é…ç½®ï¼Œå°†jaråŒ…ä¸Šä¼ åˆ°è‡ªå®šä¹‰ä»“åº“ï¼Œç„¶åä»è‡ªå®šä¹‰ä»“åº“ä¸‹è½½jaråŒ…ï¼›</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/maven%E7%AC%94%E8%AE%B0/" data-id="ck5qwpk3j000gxsj2atkxbc9z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Hugoä»é›¶æ­å»ºåšå®¢" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/Hugo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" class="article-date">
  <time datetime="2020-01-23T15:20:32.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/Hugo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">Hugoä»é›¶æ­å»ºåšå®¢</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="hugoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢"><a href="#hugoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢" class="headerlink" title="hugoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢"></a>hugoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢</h1><p><a href="https://www.bilibili.com/video/av51574688" target="_blank" rel="noopener">Bç«™æ•™ç¨‹</a></p>
<blockquote>
<p>1ï¼šåœ¨<a href="https://github.com/gohugoio/hugo/releases" target="_blank" rel="noopener">æ­¤å¤„</a>åœ°å€ä¸‹æ‰¾åˆ°Windowså‹ç¼©æ–‡ä»¶ä¸‹è½½</p>
<p>2:å¦‚ä½•çœ‹hugoå®‰è£…æˆæ²¡æˆåŠŸï¼Œæ‰“å¼€cmdï¼Œè¾“å…¥hugo version</p>
<p>3ï¼šå®‰è£…æˆåŠŸåï¼Œç”¨Hugoæ¥åˆ›å»ºè‡ªå·±çš„åšå®¢ï¼Œå‘½ä»¤ï¼šhugo new site myblog<br>æ³¨ï¼šmyblogä¸ºæ–‡ä»¶å¤¹åå­—</p>
<p>4:ä¸‹è½½è®¾ç½®ä¸»é¢˜ï¼Œå»<a href="https://themes.gohugo.io/" target="_blank" rel="noopener">ä¸»é¢˜ç½‘å€</a>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜è¿›è¡Œä¸‹è½½</p>
<p>5.ä¸‹è½½ä¸»é¢˜<br><img src="https://github.com/ZephXu07/IMG/raw/master/1033328-20190513110131643-1221757335.pn" alt="img"></p>
<p>6.å¯åŠ¨åšå®¢å‘½ä»¤ï¼Œè¾“å…¥ hugo server -t m10c â€“buildDrafts</p>
<p>7.åˆ›å»ºæ–‡ç« ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºï¼Œhugo new post/ï¼ˆåå­—ï¼‰.md</p>
<p>8.mdæ–‡æ¡£è¯­æ³•ï¼š</p>
<p><a href="https://www.jianshu.com/p/399e5a3c7cc5" target="_blank" rel="noopener">mdè¯­æ³•</a></p>
<p>9.éƒ¨ç½²è¿œç«¯ï¼š</p>
<blockquote>
<p>1.ä»“åº“ï¼š<img src="https://github.com/ZephXu07/IMG/raw/master/UC%E6%88%AA%E5%9B%BE20190822213904.png" alt="img3"></p>
<p>2.ä»“åº“å·²ç»æœ‰äº†ï¼Œä½†æ˜¯ä¸ªç©ºä»“åº“ï¼Œæ¥ä¸‹æ¥æ•²å‘½ä»¤hugo â€“theme=m10c<br>â€“baseUrl=â€åœ°å€â€ â€“buildDraftsï¼Œ</p>
<p>3.æˆåŠŸåä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªpublicæ–‡ä»¶ï¼ŒæŠŠè¿™ä¸ªpublicä¼ åˆ°githubä»“åº“</p>
<blockquote>
<p>cd public/</p>
<p>git init</p>
<p>git add .</p>
<p>git commit -mâ€ç›¸å…³ä¿¡æ¯â€</p>
<p>git remote add origin<br><a href="https://github.com/ZephXu07/zephxu07.github.io.git" target="_blank" rel="noopener">https://github.com/ZephXu07/zephxu07.github.io.git</a></p>
<p>git push -u origin master</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>4.è®¿é—®ï¼š<a href="https://zephxu07.github.io/" target="_blank" rel="noopener">ä¸ªäººåšå®¢</a></p>
</blockquote>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/Hugo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" data-id="ck5qwpk370001xsj2a6dm6au2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Hexoä»é›¶æ­å»ºåšå®¢" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/Hexo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" class="article-date">
  <time datetime="2020-01-23T15:19:52.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/Hexo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">Hexoä»é›¶æ­å»ºåšå®¢</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="hexoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢"><a href="#hexoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢" class="headerlink" title="hexoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢"></a>hexoç‰ˆä»é›¶æ­å»ºä¸ªäººåšå®¢</h1><blockquote>
<blockquote>
<h1 id="ä»é›¶æ­å»ºè‡ªå·±çš„åšå®¢-hexoç‰ˆ"><a href="#ä»é›¶æ­å»ºè‡ªå·±çš„åšå®¢-hexoç‰ˆ" class="headerlink" title="ä»é›¶æ­å»ºè‡ªå·±çš„åšå®¢ hexoç‰ˆ"></a>ä»é›¶æ­å»ºè‡ªå·±çš„åšå®¢ hexoç‰ˆ</h1><p><a href="https://www.bilibili.com/video/av44544186" target="_blank" rel="noopener">Bç«™æ•™ç¨‹</a></p>
<h2 id="å‡†å¤‡ï¼šGit-Node-js"><a href="#å‡†å¤‡ï¼šGit-Node-js" class="headerlink" title="å‡†å¤‡ï¼šGit Node.js"></a>å‡†å¤‡ï¼šGit Node.js</h2><h2 id="ä»¥ä¸‹å…¨åœ¨DOSçª—å£æ‰§è¡Œ"><a href="#ä»¥ä¸‹å…¨åœ¨DOSçª—å£æ‰§è¡Œ" class="headerlink" title="(ä»¥ä¸‹å…¨åœ¨DOSçª—å£æ‰§è¡Œ)"></a>(ä»¥ä¸‹å…¨åœ¨DOSçª—å£æ‰§è¡Œ)</h2><h2 id="å®‰è£…npmï¼šnpm-install-g-cnpm-â€“registry-https-registry-npm-taobao-org-ï¼ˆå®‰è£…é•œåƒæé€Ÿï¼‰"><a href="#å®‰è£…npmï¼šnpm-install-g-cnpm-â€“registry-https-registry-npm-taobao-org-ï¼ˆå®‰è£…é•œåƒæé€Ÿï¼‰" class="headerlink" title="å®‰è£…npmï¼šnpm install -g cnpm â€“registry=https://registry.npm.taobao.org ï¼ˆå®‰è£…é•œåƒæé€Ÿï¼‰"></a>å®‰è£…npmï¼šnpm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a> ï¼ˆå®‰è£…é•œåƒæé€Ÿï¼‰</h2><h2 id="å®‰è£…hexoï¼šnpm-install-g-hexo-cli"><a href="#å®‰è£…hexoï¼šnpm-install-g-hexo-cli" class="headerlink" title="å®‰è£…hexoï¼šnpm install -g hexo-cli"></a>å®‰è£…hexoï¼šnpm install -g hexo-cli</h2><h2 id="å‡†å¤‡åšå®¢ç›®å½•blogï¼š-å‡ºé”™å¯ç›´æ¥åˆ é™¤é‡æ–°å¼€å§‹"><a href="#å‡†å¤‡åšå®¢ç›®å½•blogï¼š-å‡ºé”™å¯ç›´æ¥åˆ é™¤é‡æ–°å¼€å§‹" class="headerlink" title="å‡†å¤‡åšå®¢ç›®å½•blogï¼š(å‡ºé”™å¯ç›´æ¥åˆ é™¤é‡æ–°å¼€å§‹)"></a>å‡†å¤‡åšå®¢ç›®å½•blogï¼š(å‡ºé”™å¯ç›´æ¥åˆ é™¤é‡æ–°å¼€å§‹)</h2><blockquote>
<p>1.åˆå§‹åŒ–ï¼š hexo init ç”Ÿæˆå„ç§æ–‡ä»¶</p>
<p>2.å¯åŠ¨ï¼š hexo s <a href="http://localhost:4000/" target="_blank" rel="noopener">æœ¬åœ°è®¿é—®</a></p>
<p>3.å†™åšå®¢ï¼š hexo n â€œæ ‡é¢˜â€ è‡ªåŠ¨ç”Ÿæˆå¹¶åœ¨blogä¸‹ï¼Œæ ¼å¼ä¸ºï¼š.md</p>
</blockquote>
<blockquote>
<blockquote>
<p>mdè¯­æ³•ï¼š<a href="https://www.jianshu.com/p/399e5a3c7cc" target="_blank" rel="noopener">ç®€ä¹¦</a></p>
</blockquote>
</blockquote>
<blockquote>
<p>4.æ¸…ç†ï¼š hexo clean</p>
<p>5.ç”Ÿæˆï¼š hexo g</p>
</blockquote>
<h2 id="éƒ¨ç½²åˆ°GitHubä¸Š"><a href="#éƒ¨ç½²åˆ°GitHubä¸Š" class="headerlink" title="éƒ¨ç½²åˆ°GitHubä¸Š"></a>éƒ¨ç½²åˆ°GitHubä¸Š</h2><blockquote>
<p>1.åˆ›å»ºä»“åº“ï¼šç”¨æˆ·éƒ¨ç½²ä¸ªäººåšå®¢çš„githubä»“åº“çš„å‘½åéœ€ç¬¦åˆè§„èŒƒï¼š</p>
</blockquote>
<blockquote>
<blockquote>
<p>ç”¨æˆ·å + .github.io</p>
</blockquote>
</blockquote>
<blockquote>
<p>2.gitéƒ¨ç½²æ’ä»¶ï¼šnpm install hexo-deployer-git â€“save</p>
<ul>
<li>npm audit fix</li>
<li>npm audit fix â€“force</li>
</ul>
<p>3.è®¾ç½® _config.ymlæ–‡ä»¶</p>
<blockquote>
<p>æœ€åé¢å¢åŠ é…ç½®ï¼š<img src="https://github.com/ZephXu07/IMG/raw/master/UC%E6%88%AA%E5%9B%BE20190821141914.png" alt="img1"></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<ul>
<li>ä¸‰ä¸ªå†’å·åé¢éœ€è¦ä¸€ä¸ªç©ºæ ¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</li>
</ul>
</blockquote>
<p>4.éƒ¨ç½²åˆ°è¿œç«¯ï¼š hexo d</p>
</blockquote>
<h2 id="æ›´æ¢ä¸»é¢˜ï¼ˆæ¼”ç¤ºï¼‰ä¸»é¢˜ç½‘ç«™"><a href="#æ›´æ¢ä¸»é¢˜ï¼ˆæ¼”ç¤ºï¼‰ä¸»é¢˜ç½‘ç«™" class="headerlink" title="æ›´æ¢ä¸»é¢˜ï¼ˆæ¼”ç¤ºï¼‰ä¸»é¢˜ç½‘ç«™"></a>æ›´æ¢ä¸»é¢˜ï¼ˆæ¼”ç¤ºï¼‰<a href="https://hexo.io/themes/" target="_blank" rel="noopener">ä¸»é¢˜ç½‘ç«™</a></h2><blockquote>
<p>1.git cloneä»–äººä¸»é¢˜ï¼š git clone https://â€¦â€¦ themesï¼ˆä¸»é¢˜å­˜å‚¨æ–‡ä»¶å¤¹ï¼‰/ï¼ˆä¸»é¢˜åï¼‰ï¼ˆé“¾æ¥ï¼‰</p>
<blockquote>
<p>git clone æ…¢ï¼Œä¸¤ç§æ–¹æ³•ï¼š</p>
<blockquote>
<p><a href="https://blog.csdn.net/TeFuirnever/article/details/99110367" target="_blank" rel="noopener">ç¬¬ä¸€ç§</a></p>
<p><a href="https://blog.csdn.net/zhouchangyu1221/article/details/86613081" target="_blank" rel="noopener">ç¬¬äºŒç§</a></p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>2.ä¿®æ”¹_config.yml é…ç½®ï¼š<img src="https://github.com/ZephXu07/IMG/raw/master/UC%E6%88%AA%E5%9B%BE20190821145114.png" alt="img2"></p>
<p>å†’å·åé¢å¯èƒ½ä¹Ÿéœ€è¦ç©ºæ ¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<p>3.åç»­æ“ä½œï¼š</p>
<blockquote>
<p>hexo clean</p>
<p>hexo g</p>
<p>hexo s</p>
<p>æœ¬åœ°åœæ­¢ï¼ˆctrl + cï¼‰</p>
<p>hexo d</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><ul>
<li><p>ç¼ºå¤±æ¨¡å—ã€‚<br>1ã€è¯·ç¡®ä¿nodeç‰ˆæœ¬å¤§äº6.2<br>2ã€åœ¨åšå®¢æ ¹ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯yiliaæ ¹ç›®å½•ï¼‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br>npm i hexo-generator-json-content â€“save</p>
</li>
<li><p>3ã€åœ¨æ ¹ç›®å½•_config.ymlé‡Œæ·»åŠ é…ç½®</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jsonContent:</span></span><br><span class="line">  <span class="attr">meta:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">pages:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">posts:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">path:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">text:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">raw:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">content:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">slug:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">updated:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">link:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">excerpt:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>





</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/Hexo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" data-id="ck5qwpk310000xsj2hgkdhku1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MyBatisç¬”è®°" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/MyBatis%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2020-01-23T15:18:43.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/MyBatis%E7%AC%94%E8%AE%B0/">MyBatisç¬”è®°</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MyBatisç¬”è®°"><a href="#MyBatisç¬”è®°" class="headerlink" title="MyBatisç¬”è®°"></a>MyBatisç¬”è®°</h1><h2 id="SSMæ¡†æ¶ç³»åˆ—ä¹‹ä¸€-MyBatis"><a href="#SSMæ¡†æ¶ç³»åˆ—ä¹‹ä¸€-MyBatis" class="headerlink" title="SSMæ¡†æ¶ç³»åˆ—ä¹‹ä¸€ MyBatis"></a>SSMæ¡†æ¶ç³»åˆ—ä¹‹ä¸€ MyBatis</h2><h2 id="what"><a href="#what" class="headerlink" title="what"></a>what</h2><p> MyBatis æœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</p>
<p> MyBatisæ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ã€‚MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚MyBatis å¯ä»¥å¯¹é…ç½®å’ŒåŸç”ŸMapä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs(Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚ï¼ˆä¸“ä¸šè¯­è¨€ï¼ŒæŠ„çš„â€¦â€¦ï¼‰</p>
<p> æ€»è€Œè¨€ä¹‹MyBatisæ˜¯ä¸€ä¸ªè½»é‡çº§ç®€åŒ–æ•°æ®åº“æ“ä½œçš„æ¡†æ¶ã€‚</p>
<h2 id="why-using-MyBatis"><a href="#why-using-MyBatis" class="headerlink" title="why using MyBatis"></a>why using MyBatis</h2><p><em>è§£å†³JDBCå­˜åœ¨çš„é—®é¢˜å’Œç®€åŒ–æ•°æ®åº“æ“ä½œ</em>ï¼š</p>
<ul>
<li><p>å¯ä»¥é€šè¿‡ä¸»é…ç½®æ–‡ä»¶é…ç½®è¿æ¥æ± è§£å†³é¢‘ç¹åˆ›å»ºã€é‡Šæ”¾æ•°æ®åº“è¿æ¥é€ æˆçš„æ€§èƒ½å½±å“</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  ä½¿ç”¨jdbcçš„äº‹åŠ¡          --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssm_mybatis?serverTimezone=Asia/Shanghai"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"10709991"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ¨æ€SQLè§£å†³JDBCä¸­ç¡¬ç¼–ç é—®é¢˜</p>
</li>
<li><ul>
<li>Whereæ¡ä»¶æ”¹å˜</li>
<li>å ä½ç¬¦ä½ç½®å˜åŒ–</li>
<li>mapper.xml æ–‡ä»¶ä¹¦å†™</li>
</ul>
</li>
<li><p>å¯é€šè¿‡åŒ…è£…ç±»æ–¹ä¾¿çš„è·å–æ•°æ®åº“æŸ¥è¯¢ç»“æœé›†å¯¹è±¡</p>
</li>
<li><p>ä½¿Daoå±‚ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“è®¿é—®åˆ†ç¦»æ›´æ˜“ç»´æŠ¤å’Œæµ‹è¯•</p>
</li>
</ul>
<h2 id="learn-what"><a href="#learn-what" class="headerlink" title="learn what"></a>learn what</h2><ul>
<li>äº†è§£MyBatisæ¶æ„ï¼›</li>
<li>æŒæ¡MyBatisæ¡†æ¶æ­å»ºã€é…ç½®</li>
<li>ä½¿ç”¨MyBatiså®Œæˆå¯¹æ•°æ®åº“çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ</li>
<li>æŒæ¡Mapperä»£ç†å¼€å‘</li>
<li>æŒæ¡è¾“å…¥å’Œè¾“å‡ºæ˜ å°„</li>
<li>æŒæ¡å¤šè¡¨å…³è”æŸ¥è¯¢</li>
<li>æŒæ¡åŠ¨æ€SQLç¼–å†™SQLè¯­å¥</li>
<li>ä½¿ç”¨MyBatis Generatorå·¥å…·å¿«é€Ÿç”ŸæˆBeanã€Interfaceã€mapper.xml</li>
<li>æŒæ¡MyBatis+Springå¼€å‘(éœ€è¦éƒ¨åˆ†SpringçŸ¥è¯†)</li>
</ul>
<h1 id="å¼€å§‹å­¦ä¹ MyBatis-æ¡†æ¶"><a href="#å¼€å§‹å­¦ä¹ MyBatis-æ¡†æ¶" class="headerlink" title="å¼€å§‹å­¦ä¹ MyBatis æ¡†æ¶"></a>å¼€å§‹å­¦ä¹ MyBatis æ¡†æ¶</h1><h2 id="part1-MyBatisæ¶æ„å›¾ï¼š"><a href="#part1-MyBatisæ¶æ„å›¾ï¼š" class="headerlink" title="part1 MyBatisæ¶æ„å›¾ï¼š"></a>part1 MyBatisæ¶æ„å›¾ï¼š</h2><p><img src="https://github.com/ZephXu07/IMG/raw/master/MyBatis%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="æ¶æ„å›¾"></p>
<ul>
<li>é¡¶éƒ¨ç®—å…¥å£</li>
<li>SqlMapConfig.xmlä¸»é…ç½®æ–‡ä»¶</li>
<li>Mapper.xmlå¯¹åº”ä¸€å¼ è¡¨ï¼Œå‡ å¼ å¯¹åº”å‡ ä¸ªxmlæ–‡ä»¶</li>
<li>SqlSessionFactoryæ˜¯ä¸Šè¿°é…ç½®æ–‡ä»¶é€šè¿‡SqlSessionFactoryBuilderåˆ›å»ºçš„</li>
<li>å®çº¿æ˜¯åˆæ­¥å­¦ä¹ å…³æ³¨çš„ï¼Œè™šçº¿ä¸ºåç»­æ·±å…¥å­¦ä¹ éœ€è¦å…³æ³¨çš„</li>
</ul>
<h2 id="part2-HelloMyBatisï¼šæ­å»ºMyBatis-HelloWorldé¡¹ç›®"><a href="#part2-HelloMyBatisï¼šæ­å»ºMyBatis-HelloWorldé¡¹ç›®" class="headerlink" title="part2 HelloMyBatisï¼šæ­å»ºMyBatis HelloWorldé¡¹ç›®"></a>part2 HelloMyBatisï¼šæ­å»ºMyBatis HelloWorldé¡¹ç›®</h2><p>1ã€ ä¸‹è½½MyBatisã€åˆ›å»ºé¡¹ç›®ã€å¯¼åŒ…ï¼›</p>
<p>2ã€ åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•æ•°æ®åº“ã€æµ‹è¯•Beanå¯¹è±¡ï¼›</p>
<p>3ã€ åˆ›å»ºsqlMapConfig.xmlä¸»é…ç½®æ–‡ä»¶ï¼›</p>
<ul>
<li>å¯¼å…¥ä¸»é…ç½®æ–‡ä»¶å¤´ï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">PUBLIC <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>4ã€ åˆ›å»ºMapper.xmlæ˜ å°„æ–‡ä»¶ï¼›</p>
<ul>
<li>å¯¼å…¥Mapperæ–‡ä»¶å¤´ï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">PUBLIC <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>5ã€ å¯¼å…¥çº¦æŸï¼›</p>
<h2 id="part3-ä½¿ç”¨MyBatiså¯¹è¡¨è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ"><a href="#part3-ä½¿ç”¨MyBatiså¯¹è¡¨è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ" class="headerlink" title="part3 ä½¿ç”¨MyBatiså¯¹è¡¨è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ"></a>part3 ä½¿ç”¨MyBatiså¯¹è¡¨è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ</h2><p><strong>SqlSessionå¯¹è±¡å¯¹æ•°æ®åº“æœ‰å¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤éƒ½éœ€è¦commit!</strong></p>
<p>1ã€ é€šè¿‡IDå»æŸ¥è¯¢ä¸€ä¸ªç”¨æˆ·</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis.png" alt="1"></p>
<ul>
<li>éœ€è¦ä¸€ä¸ªUserMapperæ¥å£ï¼Œæ–¹æ³•åï¼Œè¿”å›å€¼ï¼Œå‚æ•°çš„éœ€è¦ä¸€è‡´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯»å–é…ç½®æ–‡ä»¶</span></span><br><span class="line">   String resource = <span class="string">"sqlMapConfig.xml"</span>;</span><br><span class="line">   InputStream is = Resources.getResourceAsStream(resource);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//éœ€è¦sqlSessionFactoryBuilder</span></span><br><span class="line">    SqlSessionFactoryBuilder saab = <span class="keyword">new</span> SqlSessionFactoryBuilder();</span><br><span class="line">       </span><br><span class="line">    <span class="comment">//åˆ›å»ºsqlSessionFactory</span></span><br><span class="line">    SqlSessionFactory ssf = saab.build(is);</span><br><span class="line">       </span><br><span class="line">    <span class="comment">//ç”Ÿäº§ä¸€ä¸ªsqlSession</span></span><br><span class="line">    SqlSession ss = ssf.openSession();</span><br><span class="line">       </span><br><span class="line">    <span class="comment">//æ“ä½œæ•°æ®åº“</span></span><br><span class="line">    <span class="comment">//å‚1ï¼šsqlï¼Œå‚2ï¼šsqlè¯­å¥ä¸­å‚æ•°</span></span><br><span class="line">    User user = ss.selectOne(<span class="string">"com.zephxu.bean.UserMapper.selectUserById"</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUserById"</span> <span class="attr">parameterType</span>=<span class="string">"Integer"</span> <span class="attr">resultType</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span></span><br><span class="line">        select * from user where u_id = #&#123;id&#125;<span class="comment">&lt;!--mapperä¸­é—´ä¸ºsqlè¯­å¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>#{id}å ä½ç¬¦ï¼Œå³?</li>
<li>log4j.propertiesæ–‡ä»¶åº”åªæœ‰ä¸€ä»½ä¸”å­˜åœ¨äºsrc\main\resources\ä¸‹ä¸”ä¸åœ¨å…¶ä»–å­æ–‡ä»¶ä¸‹ã€‚</li>
</ul>
<p>2ã€ é€šè¿‡ç”¨æˆ·åæ¨¡ç³ŠæŸ¥æ‰¾åŒ¹é…çš„ç”¨æˆ·åˆ—è¡¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; userList = ss.selectList(<span class="string">"com.zephxu.bean.UserMapper.selectUserByName"</span>, <span class="string">"c"</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUserByName"</span> <span class="attr">parameterType</span>=<span class="string">"String"</span> <span class="attr">resultType</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span><span class="comment">&lt;!--å…¶ä»–åŒä¸Š--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--         select * from user where u_username like '%$&#123;value&#125;%'--&gt;</span></span><br><span class="line">        select * from user where u_username like "%"#&#123;name&#125;"%"</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>${value}ï¼šå­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ï¼Œå®¹æ˜“å¯¼è‡´sqlæ³¨å…¥ï¼Œå¦‚1 = 1ï¼Œé¿å…ä½¿ç”¨ã€‚</li>
<li>#{value}ï¼šå ä½ç¬¦ï¼Œé¢„å¤„ç†ï¼Œå³PreparedStatementï¼Œå¯ä»¥é˜²æ­¢sqlæ³¨å…¥ï¼Œå°½é‡ä½¿ç”¨ã€‚</li>
</ul>
<p>3ã€ å®Œæˆæ·»åŠ ç”¨æˆ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User user = <span class="keyword">new</span> User(<span class="number">50</span>, <span class="string">"xz"</span>, <span class="string">"1079991"</span>, <span class="string">"1"</span>, <span class="keyword">new</span> Date(), <span class="number">2</span>);</span><br><span class="line">ss.insert(<span class="string">"com.zephxu.bean.UserMapper.insertUser"</span>, user);</span><br></pre></td></tr></table></figure>

<ul>
<li>BUGï¼šCannot add or update a child row: a foreign key constraint fails (<code>ssm_mybatis</code>.<code>user</code>, CONSTRAINT <code>FK_user_cid</code> FOREIGN KEY (<code>u_cid</code>) REFERENCES <code>country</code> (<code>c_id</code>))<ul>
<li>è¿™ä¸ªè¡¨æŸå­—æ®µä¸å…¶ä»–è¡¨æŸå­—æ®µæœ‰å¤–é”®è¿æ¥æ—¶ï¼Œæ­¤æ—¶æ•°æ®åº”ä¸ºå¦ä¸€ä¸ªè¡¨å·²å­˜åœ¨æ•°æ®ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertUser"</span> <span class="attr">parameterType</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span></span><br><span class="line">        INSERT into user values (#&#123;u_id&#125;, #&#123;u_username&#125;, #&#123;u_password&#125;, #&#123;u_sex&#125;, #&#123;u_createTime&#125;, #&#123;u_cid&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4ã€ ä¿®æ”¹ç”¨æˆ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss.update(<span class="string">"com.zephxu.bean.UserMapper.updateUser"</span>, user);</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"updateUser"</span> <span class="attr">parameterType</span>=<span class="string">"com.zephxu.bean.User"</span>&gt;</span></span><br><span class="line">        update user set u_username = #&#123;u_username&#125; where u_id = #&#123;u_id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åŒä¸Š</li>
</ul>
<p>5ã€ æ ¹æ®idåˆ é™¤ç”¨æˆ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss.delete(<span class="string">"com.zephxu.bean.UserMapper.deleteUserById"</span>, <span class="number">90</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteUserById"</span> <span class="attr">parameterType</span>=<span class="string">"Integer"</span>&gt;</span></span><br><span class="line">        delete from user where u_id = #&#123;u_id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åŒä¸Š</li>
</ul>
<p>6ã€ ä½¿ç”¨MyBatis å¼€å‘Daoå±‚å¹¶æµ‹è¯•ï¼›</p>
<p>7ã€ å°ç»“1ï¼šJdbcä¸MyBatiså¼€å‘çš„åŒºåˆ«(MyBatisçš„ä¼˜ç‚¹)ï¼Œå›é¡¾MyBatiså¼€å‘æµç¨‹ï¼›</p>
<h2 id="part4-MyBatis-MapperåŠ¨æ€ä»£ç†å¼€å‘4-1-4åŸåˆ™-1æ³¨æ„-ï¼š"><a href="#part4-MyBatis-MapperåŠ¨æ€ä»£ç†å¼€å‘4-1-4åŸåˆ™-1æ³¨æ„-ï¼š" class="headerlink" title="part4 MyBatis MapperåŠ¨æ€ä»£ç†å¼€å‘4+1 (4åŸåˆ™+1æ³¨æ„)ï¼š"></a>part4 <strong>MyBatis MapperåŠ¨æ€ä»£ç†å¼€å‘4+1 (4åŸåˆ™+1æ³¨æ„)ï¼š</strong></h2><p>1ã€ æ¥å£æ–¹æ³•åéœ€è¦ä¸mapper.xmlçš„è¦è°ƒç”¨çš„sqlè¯­å¥çš„idä¸€è‡´ï¼›</p>
<p>2ã€ æ¥å£çš„å½¢å‚ç±»å‹éœ€è¦ä¸mapper.xml parameterTypeä¸€è‡´ï¼›</p>
<p>3ã€ æ¥å£çš„è¿”å›å€¼éœ€è¦ä¸mapper.xml resultTypeä¸€è‡´ï¼›</p>
<p>4ã€ mapper.xmlä¸­namespaceè¦ä¸æ¥å£çš„å…¨åŒ…åä¸€è‡´ï¼›</p>
<p>5ã€ æ³¨æ„mapperåŠ¨æ€ä»£ç†å¼€å‘ä¸­ï¼Œæ ¹æ®è¿”å›å€¼ç±»å‹æ¥è‡ªåŠ¨é€‰æ‹©ï¼›</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis4.png" alt="4"></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis5.png" alt="5"></p>
<ul>
<li>ä¸Šä¸¤å›¾å¯¹åº”1-4ç‚¹</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//è¯»å–é…ç½®æ–‡ä»¶</span></span><br><span class="line">        String resource = <span class="string">"sqlMapConfig.xml"</span>;</span><br><span class="line">        InputStream is = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//åˆ›å»ºsqlSessionFactory</span></span><br><span class="line">        SqlSessionFactory ssf = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(is);</span><br><span class="line">        <span class="comment">//ç”Ÿäº§ä¸€ä¸ªsqlSession</span></span><br><span class="line">        SqlSession ss = ssf.openSession();</span><br><span class="line">        UserMapper userMapper = ss.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        User user = userMapper.selectUserById(<span class="number">99</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å€’æ•°ä¸‰è¡Œæ˜¯åŠ¨æ€ä»£ç†åŸç†ï¼Œè·å¾—UserMapperå”¯ä¸€çš„æ¨¡æ¿å»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä½†ç°åœ¨å¦‚ä½•ä»æœªå®ç°çš„UserMapperæ¥å£å’Œä¸€ä¸ªç›¸å…³çš„UserMapper.xmlæ–‡ä»¶åˆ›å»ºæœªçŸ¥ï¼Œå¯èƒ½Mybatisä¸­å·²æœ‰å…·ä½“æ–¹æ³•ä»æ¥å£åŠç›¸å…³xmlæ–‡ä»¶ç”Ÿæˆå…·æœ‰å…·ä½“å®ç°æ–¹æ³•çš„ä»£ç†ç±»ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User user = ss.selectOne(<span class="string">"com.zephxu.mapper.UserMapper.selectUserById"</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">userMapper.insertUser(user);</span><br><span class="line">   user.setU_username(<span class="string">"ç‹yang"</span>);</span><br><span class="line">   userMapper.updateUserById(user);</span><br><span class="line">   List&lt;User&gt; userList = userMapper.selectUserByName(<span class="string">"ç‹"</span>);</span><br><span class="line">   <span class="keyword">for</span> (User u:userList) &#123;</span><br><span class="line">   	System.out.println(u);</span><br><span class="line">   &#125;</span><br><span class="line">   userMapper.deleteUserById(<span class="number">88</span>);</span><br></pre></td></tr></table></figure>

<p>ç›¸æ¯”ä¹‹ä¸‹è™½ä»£ç å¤šäº†ï¼Œä½†å…¶å®æ›´åŠ å¥½ç†è§£ï¼Œä¸€ä¸ªUserMapperçš„å¯¹è±¡ï¼Œå…¶æœ‰å„ç§å„æ ·çš„æ–¹æ³•ï¼Œåªéœ€è¦è°ƒç”¨ï¼Œè€Œä¸éœ€è¦é€šè¿‡å‚æ•°æ–¹å¼â€com.zephxu.mapper.UserMapper.selectUserByIdâ€è¿›è¡Œè°ƒç”¨ã€‚</p>
<h2 id="part5-ä¸»é…ç½®æ–‡ä»¶SqlMapConfig-xmlè¯´æ˜ï¼šï¼ˆæ³¨æ„é¡ºåºï¼‰"><a href="#part5-ä¸»é…ç½®æ–‡ä»¶SqlMapConfig-xmlè¯´æ˜ï¼šï¼ˆæ³¨æ„é¡ºåºï¼‰" class="headerlink" title="part5 ä¸»é…ç½®æ–‡ä»¶SqlMapConfig.xmlè¯´æ˜ï¼šï¼ˆæ³¨æ„é¡ºåºï¼‰"></a>part5 ä¸»é…ç½®æ–‡ä»¶SqlMapConfig.xmlè¯´æ˜ï¼šï¼ˆæ³¨æ„é¡ºåºï¼‰</h2><p><strong>ï¼ˆåŠ ç²—ä¸ºå‰æœŸå­¦ä¹ é‡ç‚¹ï¼‰</strong></p>
<p>1ã€ <strong>propertiesï¼ˆè¯»å–é…ç½®æ–‡ä»¶ï¼‰</strong></p>
<ul>
<li><p>ä¸ä½¿ç”¨æ—¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssm_mybatis?serverTimezone=Asia/Shanghai"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"10709991"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æ—¶å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨ï¼š</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/UC%E6%88%AA%E5%9B%BE20190918194909.png" alt="00"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">"db.properties"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driver&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.url&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.username&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœå±æ€§åœ¨ä¸åªä¸€ä¸ªåœ°æ–¹è¿›è¡Œäº†é…ç½®ï¼Œé‚£ä¹ˆ MyBatis å°†æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ¥åŠ è½½ï¼š<ul>
<li>åœ¨ properties å…ƒç´ ä½“å†…æŒ‡å®šçš„å±æ€§é¦–å…ˆè¢«è¯»å–ã€‚</li>
</ul>
</li>
<li>ç„¶åæ ¹æ® properties å…ƒç´ ä¸­çš„ resource å±æ€§è¯»å–ç±»è·¯å¾„ä¸‹å±æ€§æ–‡ä»¶æˆ–æ ¹æ® url å±æ€§æŒ‡å®šçš„è·¯å¾„è¯»å–å±æ€§æ–‡ä»¶ï¼Œå¹¶è¦†ç›–å·²è¯»å–çš„åŒåå±æ€§ã€‚<ul>
<li>æœ€åè¯»å–ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’çš„å±æ€§ï¼Œå¹¶è¦†ç›–å·²è¯»å–çš„åŒåå±æ€§ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>2ã€ settingsï¼ˆå…¨å±€é…ç½®å‚æ•°ï¼‰</p>
<p>3ã€ <strong>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis.5.3.png" alt="5.3"></p>
<ul>
<li><p>åˆ«åå¯ç”¨äºæ­¤å¤„ï¼Œçœç•¥åŒ…åã€‚</p>
</li>
<li><p><code>&lt;typeAliases&gt;&lt;/typeAliases&gt;</code>ä¸­æœ‰ä¸¤ç§ç”¨æ³•ï¼š</p>
<ol>
<li>å•ç‹¬ï¼š <code>&lt;typeAlias type=&quot;com.zephxu.bean.User&quot; alias=&quot;User&quot;/&gt;</code></li>
<li>ï¼ˆæ¨èï¼‰åŒ…ï¼š<code>&lt;package name=&quot;com.zephxu.bean&quot;/&gt;</code></li>
</ol>
<ul>
<li><p><code>resultType=&quot;User&quot;</code></p>
</li>
<li><p><code>resultType=&quot;user&quot;</code></p>
</li>
<li><p>å¤§å°å†™å‡å¯ã€‚</p>
<p> BUGï¼š</p>
<ul>
<li>Cause: org.apache.ibatis.builder.BuilderException: Error creating document instance. Cause: org.xml.sax.SAXParseException; lineNumber: 57; columnNumber: 17; å…ƒç´ ç±»å‹ä¸º â€œconfigurationâ€ çš„å†…å®¹å¿…é¡»åŒ¹é… â€œ(properties?,settings?,typeAliases?,typeHandlers?,objectFactory?,objectWrapperFactory?,reflectorFactory?,plugins?,environments?,databaseIdProvider?,mappers?)â€ã€‚</li>
<li>åŸå› ï¼š<code>&lt;configuration&gt;</code>æ ‡ç­¾ä¸­çš„å°æ ‡ç­¾éœ€è¦ç¬¦åˆä¸€å®šé¡ºåºï¼š</li>
<li>propertiesâ€“settingsâ€“typeAliasesâ€“typeHandlersâ€“objectFactoryâ€“objectWrapperFactoryâ€“reflectorFactoryâ€“pluginsâ€“environmentsâ€“databaseIdProviderâ€“mappers**</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>4ã€ typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</p>
<p>5ã€ objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</p>
<p>6ã€ pluginsï¼ˆæ’ä»¶ï¼‰</p>
<p>7ã€ environmentsï¼ˆç¯å¢ƒé›†åˆå±æ€§å¯¹è±¡ï¼Œä¸Springæ¡†æ¶æ•´åˆåSay Good Byeï¼‰</p>
<p> a) environmentï¼ˆç¯å¢ƒå­å±æ€§å¯¹è±¡ï¼‰</p>
<p> b) transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†ï¼‰</p>
<p> c) dataSourceï¼ˆæ•°æ®æºï¼‰</p>
<p>8ã€ <strong>mappersï¼ˆé…ç½®æ˜ å°„å™¨ä½ç½®ï¼‰</strong>(1-3å•ç‹¬ï¼Œ4åŒ…)</p>
<p> ï¼ˆ1ï¼‰ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨</p>
<p><code>&lt;mapper resource=&quot;mapper/UserMapper.xml&quot;/&gt;</code></p>
<p> ï¼ˆ2ï¼‰ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">url</span>=<span class="string">"file:///D:\IDEAWorkSpace\ssm_MyBatis\src\main\resources\mapper\UserMapper.xml"</span>/&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--"file:///" + ç»å¯¹è·¯å¾„--&gt;</span></span><br></pre></td></tr></table></figure>

<p> ï¼ˆ3ï¼‰ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å</p>
<p> <code>&lt;mapper class=&quot;com.zephxu.mapper.UserMapper&quot;/&gt;</code></p>
<p> <strong>æ³¨æ„ï¼šæŠŠåŒåxmlæ–‡ä»¶å¤åˆ¶åˆ°æ¥å£åŒä¸ªåŒ…ä¸‹ï¼Œä¸”åœ¨resourceç›®å½•ä¸‹çš„åŒ…åéœ€è¦å®Œå…¨ä¸€è‡´ï¼Œç¼–è¯‘ååœ¨targetç›®å½•ä¸‹æ‰ä¼šåœ¨åŒä¸€åŒ…å†…ã€‚<a href="https://zephxu07.github.io/2019/09/27/Spring-Learning-Notes/#3%E3%80%81-%E5%9C%A8service%E4%B8%AD%E5%8A%A0%E5%85%A5%E4%BA%8B%E5%8A%A1%EF%BC%9A%E5%88%A9%E7%94%A8Spring-aop%E4%BA%8B%E5%8A%A1%E8%A7%A3%E5%86%B3%E8%BD%AC%E8%B4%A6%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%EF%BC%9B" target="_blank" rel="noopener">æˆ–è€…æ­¤BUGå¯¹åº”çš„è§£å†³æ–¹æ³•</a></strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis.5.8.3.png" alt="5.8.3"></p>
<p> ï¼ˆ4ï¼‰å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨</p>
<p> <strong>è§„åˆ™åŒ3ï¼Œä½†æ˜¯ä¸ºä¸€æ•´ä¸ªåŒ…ä¸ºå•ä½</strong></p>
<h2 id="part6-MyBatisè¾“å…¥å’Œè¾“å‡ºæ˜ å°„"><a href="#part6-MyBatisè¾“å…¥å’Œè¾“å‡ºæ˜ å°„" class="headerlink" title="part6 MyBatisè¾“å…¥å’Œè¾“å‡ºæ˜ å°„"></a>part6 MyBatisè¾“å…¥å’Œè¾“å‡ºæ˜ å°„</h2><p>1ã€ è¾“å…¥æ˜ å°„parameterTypeï¼›</p>
<p> a) åŸºæœ¬ç±»å‹ï¼›</p>
<p> b) è‡ªå®šä¹‰å¯¹è±¡ï¼›</p>
<p> c) è‡ªå®šä¹‰åŒ…è£…ç±»ï¼šæœ¬å¯¹è±¡ä¹‹å¤–é¢å¤–çš„ä¿¡æ¯ã€‚</p>
<p>2ã€ è¾“å‡ºæ˜ å°„resultTypeã€resultMapï¼›<strong>ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼ï¼ï¼</strong></p>
<p> a) resultTypeï¼šbeanåŒ…ä¸­ç±»ä¸­å±æ€§åéœ€å®Œå…¨ä¸€è‡´æ‰èƒ½è‡ªåŠ¨æ˜ å°„ã€‚</p>
<p> i. åŸºæœ¬ç±»å‹ï¼›</p>
<p> ii. è‡ªå®šä¹‰å¯¹è±¡ï¼›</p>
<p> iii. é›†åˆï¼›</p>
<p><strong>BUG</strong> : <code>select count(*) from user</code></p>
<p><strong>countåé¢æ²¡æœ‰ç©ºæ ¼ï¼ï¼ï¼</strong></p>
<p>b) resultMapï¼›</p>
<p> i. beanå¯¹è±¡å­—æ®µä¸æ•°æ®è¡¨å­—æ®µä¸åŒ¹é…ï¼Œå¦‚ä¸‹ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Integer id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String capital;</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis.6.b.i.png" alt="6.b.i"></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis.6.b.i.1.png" alt="6.i.1"></p>
<p><strong>æ³¨æ„ï¼šå•è¡¨æŸ¥è¯¢æ—¶<code>&lt;resultMap&gt;</code>ä¸­ä¸èƒ½ç”¨idæ ‡ç­¾ï¼Œéœ€è¦ç”¨reslutæ ‡ç­¾ï¼Œç‰¹åˆ«æ˜¯java/com/zephxu/mapperä¸­çš„mapper.xmlæ–‡ä»¶</strong></p>
<p> ii. è‡ªå®šä¹‰åŒ…è£…ç±»ï¼›</p>
<p> iii. å…³è”æŸ¥è¯¢ï¼›</p>
<h2 id="part7-MyBatiså…³è”æŸ¥è¯¢"><a href="#part7-MyBatiså…³è”æŸ¥è¯¢" class="headerlink" title="part7 MyBatiså…³è”æŸ¥è¯¢"></a>part7 MyBatiså…³è”æŸ¥è¯¢</h2><ol>
<li>ä¸€å¯¹ä¸€ï¼›</li>
<li>ä¸€å¯¹å¤šï¼›<ul>
<li><strong>å¤šè¡¨æŸ¥è¯¢ä¸­resultMapä¸­å»ºè®®ä¸»é”®æ—¶ç”¨idï¼Œè€Œå…¶ä»–å­—æ®µä½¿ç”¨resultï¼Œæå‡æ€§èƒ½ã€‚</strong></li>
<li><strong>å•è¡¨æŸ¥è¯¢ä¸­beanå¯¹è±¡å­—æ®µä¸æ•°æ®è¡¨å­—æ®µåŒ¹é…æ—¶å¯ä»¥ä¸ç”¨æ˜ å°„ï¼Œä½†å¤šè¡¨å…³è”æŸ¥è¯¢éœ€è¦ã€‚</strong></li>
</ul>
</li>
</ol>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/mybatis.7.1.png" alt="7.1"></p>
<p>1 . ä¸€å¯¹ä¸€ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"uservolist"</span> <span class="attr">type</span>=<span class="string">"UserVo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">"u_id"</span> <span class="attr">column</span>=<span class="string">"u_id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"u_username"</span> <span class="attr">column</span>=<span class="string">"u_username"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"u_sex"</span> <span class="attr">column</span>=<span class="string">"u_sex"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¤šè¡¨æŸ¥è¯¢ä¸­resultMapä¸­å»ºè®®ä¸»é”®æ—¶ç”¨idï¼Œè€Œå…¶ä»–å­—æ®µä½¿ç”¨result--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œä¸Šä¸ºä¸»è¡¨ï¼Œä¸‹ä¸ºè¾…è¡¨ï¼Œä½¿ç”¨&lt;association&gt;æ ‡ç­¾--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"country"</span> <span class="attr">javaType</span>=<span class="string">"Country"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">column</span>=<span class="string">"c_id"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å•è¡¨æŸ¥è¯¢ä¸­beanå¯¹è±¡å­—æ®µä¸æ•°æ®è¡¨å­—æ®µåŒ¹é…æ—¶å¯ä»¥ä¸ç”¨æ˜ å°„ï¼Œä½†å¤šè¡¨å…³è”æŸ¥è¯¢éœ€è¦--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"c_countryname"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"capital"</span> <span class="attr">column</span>=<span class="string">"c_capital"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--åŒä¸Š--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectAllUserVo"</span> <span class="attr">resultMap</span>=<span class="string">"uservolist"</span>&gt;</span></span><br><span class="line">        select</span><br><span class="line">            u.`u_id`, u.`u_username`, u.`u_sex`,c.`c_id`, c.`c_countryname` , c.`c_capital`</span><br><span class="line">                from user u</span><br><span class="line">                    left join country c</span><br><span class="line">                        on u.`u_cid`=c.`c_id`</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.ä¸€å¯¹å¤š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"countryVo"</span> <span class="attr">type</span>=<span class="string">"CountryVo"</span>&gt;</span></span><br><span class="line">    	<span class="comment">&lt;!--idã€resultä½¿ç”¨åŒä¸Š--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">column</span>=<span class="string">"c_id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"c_countryname"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"capital"</span> <span class="attr">column</span>=<span class="string">"c_capital"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¸€å¯¹å¤šå…³ç³»ä½¿ç”¨collection--&gt;</span></span><br><span class="line">        &lt;collection property="userList" &lt;!--ä¸€å¯¹å¤šä¸­çš„å¤šå¯¹åº”çš„æ³›å‹é›†åˆ--&gt; ofType="User"&lt;!--æ³›å‹é›†åˆä¸­çš„æ•°æ®ç±»å‹--&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">"u_id"</span> <span class="attr">column</span>=<span class="string">"u_id"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"u_username"</span> <span class="attr">column</span>=<span class="string">"u_username"</span>/&gt;</span></span><br><span class="line">    		<span class="comment">&lt;!--idã€resultä½¿ç”¨åŒä¸Š--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectAllCountryVo"</span> <span class="attr">resultMap</span>=<span class="string">"countryVo"</span>&gt;</span></span><br><span class="line">        select</span><br><span class="line">            c.`c_id`, c.`c_countryname`, c.`c_capital`,</span><br><span class="line">                u.`u_id`, u.`u_username`</span><br><span class="line">                    from country c</span><br><span class="line">                        left join</span><br><span class="line">                            user u on</span><br><span class="line">                                u.`u_cid`=c.`c_id`</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="part8MyBatisåŠ¨æ€sqlï¼šæ›´æ–¹ä¾¿çš„æ‹¼æ¥sqlè¯­å¥ï¼"><a href="#part8MyBatisåŠ¨æ€sqlï¼šæ›´æ–¹ä¾¿çš„æ‹¼æ¥sqlè¯­å¥ï¼" class="headerlink" title="part8MyBatisåŠ¨æ€sqlï¼šæ›´æ–¹ä¾¿çš„æ‹¼æ¥sqlè¯­å¥ï¼"></a>part8MyBatisåŠ¨æ€sqlï¼šæ›´æ–¹ä¾¿çš„æ‹¼æ¥sqlè¯­å¥ï¼</h2><p>1ã€ ifæ ‡ç­¾ - å¤šæ¡ä»¶æŸ¥è¯¢ï¼Œè·å–ç”¨æˆ·åˆ—è¡¨ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUserListByUser"</span> <span class="attr">parameterType</span>=<span class="string">"User"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">            where</span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_sex != null and u_sex != ''"</span>&gt;</span></span><br><span class="line">                    u_sex = #&#123;u_sex&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_username != null and u_username != ''"</span>&gt;</span></span><br><span class="line">                    and u_username like "%"#&#123;u_username&#125;"%"</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_cid != null"</span>&gt;</span></span><br><span class="line">                    and u_cid = #&#123;u_cid&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šå¯èƒ½å› ä¸ºæŸä¸ªifå‡ºç°sqlè¯­å¥é”™è¯¯ï¼Œå¦‚</strong></p>
<p> <strong><code>select * from user where and u_username like &quot;%&quot;?&quot;%&quot;</code></strong></p>
<p>è§£å†³æ–¹æ³•å¦‚2ã€‚</p>
<p>2ã€ whereæ ‡ç­¾ - è§£å†³ifæ ‡ç­¾æ‹¼æ¥å­—ç¬¦ä¸²ANDç¬¦å·é—®é¢˜ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUserListByUser"</span> <span class="attr">parameterType</span>=<span class="string">"User"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">            <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_sex != null and u_sex != ''"</span>&gt;</span></span><br><span class="line">                    u_sex = #&#123;u_sex&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_username != null and u_username != ''"</span>&gt;</span></span><br><span class="line">                    and u_username like "%"#&#123;u_username&#125;"%"</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_cid != null"</span>&gt;</span></span><br><span class="line">                    and u_cid = #&#123;u_cid&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;/<span class="name">where</span>&gt;</span><span class="comment">&lt;!--&lt;where&gt;æ ‡ç­¾å¯æ™ºèƒ½å»é™¤å¼€å¤´çš„andç¬¦å·--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3ã€ trimæ ‡ç­¾ - å®šåˆ¶whereæ ‡ç­¾çš„è§„åˆ™</p>
<ul>
<li><p><code>&lt;trim prefix=&quot;WHERE&quot; prefixOverrides=&quot;AND&quot;&gt;</code> ä»£æ›¿ <code>&lt;where&gt;</code></p>
</li>
<li><p>prefixï¼ˆsuffixï¼‰æ›¿æ¢å‰ç¼€çš„where ï¼ŒprefixOverridesï¼ˆsuffixOverridesï¼‰è‡ªåŠ¨å»æ‰å¼€å¤´çš„andï¼Œæ­¤å¤–è¿˜æœ‰å…¶ä»–å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Snipaste_2019-09-22_18-02-01_%E4%B8%AD%E5%9B%BD%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4_351ep18xu.png" alt="0"></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Snipaste_2019-09-22_18-02-44_%E4%B8%AD%E5%9B%BD%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4_45ep18xu.png" alt="3"></p>
<p>4ã€ setæ ‡ç­¾ - è§£å†³æ›´æ–°æ•°æ®è¡¨æ—¶å­—ç¬¦ä¸²æ‹¼æ¥é€—å·â€,â€é—®é¢˜ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"updateSetUser"</span> <span class="attr">parameterType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        update user</span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_username != null and u_username != ''"</span>&gt;</span></span><br><span class="line">                    u_username = #&#123;u_username&#125;,</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_password != null and u_password != ''"</span>&gt;</span></span><br><span class="line">                    u_password = #&#123;u_password&#125;,</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"u_sex != null and u_sex != ''"</span>&gt;</span></span><br><span class="line">                    u_sex = #&#123;u_sex&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">                where u_id = #&#123;u_id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong><code>&lt;set&gt;</code>æ ‡ç­¾ä»£æ›¿setï¼Œæ¥å¤„ç†<code>&lt;if&gt;</code>æ ‡ç­¾å¯èƒ½ç”±äºâ€™,â€™é€ æˆçš„sqlè¯­å¥é”™è¯¯ï¼Œä¸”â€™,â€™å¯æ”¾ç½®å‰é¢æˆ–åé¢ï¼Œä¸ä¼¼<code>&lt;where&gt;</code>æ ‡ç­¾åªèƒ½å¤„ç†å‰ç¼€andï¼</strong></p>
<p>5ã€ foreachæ ‡ç­¾ â€“ å¦‚æœéœ€è¦ä½¿ç”¨INæŸ¥è¯¢å¤šæ¡ç›¸åŒæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨foreachéå†ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUserListByIds"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        select * from user where u_id in (1, 7, 18, 99);</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥å¦‚ä¸Šï¼Œä½¿ç”¨<code>&lt;foreach&gt;</code>æ ‡ç­¾åå¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUserListByIds"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        select *</span><br><span class="line">            from user</span><br><span class="line">                where u_id in <span class="comment">&lt;!--(1, 7, 18, 99);--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"array"</span> <span class="attr">item</span>=<span class="string">"id"</span> <span class="attr">open</span>=<span class="string">"("</span> <span class="attr">close</span>=<span class="string">")"</span> <span class="attr">separator</span>=<span class="string">","</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--ä½¿ç”¨æ ‡ç­¾åæ‹¼æ¥ä¸º "(1,7,18,99)" --&gt;</span></span><br><span class="line">                        #&#123;id&#125;</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>List&lt;User&gt; selectUserListByIds(Integer[] integers);</code></p>
<p> <strong>å‚æ•°ä¸º<code>Integer[] integers</code> åˆ™<code>&lt;collecction&gt;</code>å‚æ•°ä¸ºâ€arrayâ€ã€‚</strong></p>
</li>
<li><p><code>List&lt;User&gt; selectUserListByIdList(List&lt;Integer&gt; idList);</code></p>
<p> <strong>å‚æ•°ä¸º<code>List&lt;Integer&gt; idList</code>åˆ™<code>&lt;collection&gt;</code>å‚æ•°ä¸ºâ€listâ€ã€‚</strong></p>
</li>
<li><p><code>List&lt;User&gt; selectUserListByUserVo(UserVo uv);</code></p>
<p> <strong>å‚æ•°<code>UserVo uv</code>åˆ™<code>&lt;collection&gt;</code>å‚æ•°ä¸ºåŒ…è£…ç±»ä¸­çš„å±æ€§â€idListâ€ã€‚</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Snipaste_2019-09-24_16-55-10.png" alt="åŒ…è£…ç±»ä¿¡æ¯"></p>
</li>
</ul>
<p>6ã€ sqlæ ‡ç­¾ â€“ å¯ä»¥æå–é‡å¤sqlè¯­å¥ç‰‡æ®µï¼›</p>
<ul>
<li>å®šä¹‰ï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"mySelect"</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨ï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"mySelect"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="part9-MyBatis-Generatorï¼ˆMBGï¼‰ï¼š"><a href="#part9-MyBatis-Generatorï¼ˆMBGï¼‰ï¼š" class="headerlink" title="part9 MyBatis Generatorï¼ˆMBGï¼‰ï¼š"></a>part9 MyBatis Generatorï¼ˆMBGï¼‰ï¼š</h2><ul>
<li><p>ä½œç”¨ï¼šæ ¹æ®æ•°æ®åº“è¡¨è‡ªåŠ¨ç”ŸæˆBeanå¯¹è±¡ã€Javaæ¥å£åŠSqlMapper.xmlé…ç½®æ–‡ä»¶ï¼›</p>
</li>
<li><p><a href="http://www.mybatis.org/generator/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
</li>
<li><p><a href="https://github.com/mybatis/generator/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></p>
</li>
</ul>
<p>1ã€ æ­å»ºMBGé¡¹ç›®ï¼›</p>
<p>a) ä¸‹è½½MBGæ ¸å¿ƒåŒ…ï¼›</p>
<p>b) åˆ›å»ºjavaé¡¹ç›®ï¼›</p>
<p>c) ä»å®˜æ–¹æ–‡æ¡£è·å–é…ç½®è¡¨ã€å®ä¾‹ä»£ç ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;classPathEntry location="/Program Files/IBM/SQLLIB/java/db2java.zip" /&gt;--&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--é…ç½®æ•°æ®åº“çš„åŒ…ï¼Œmavenå·²å¯¼å…¥ï¼Œæ³¨é‡Šæ‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">"MyGenarator"</span> <span class="attr">targetRuntime</span>=<span class="string">"MyBatis3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressAllComments"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å–æ¶ˆæ³¨é‡Šï¼Œå½“ä¸ºtrue--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressDate"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å–æ¶ˆæ—¶é—´æˆ³ï¼Œå½“ä¸ºtrue--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--æ•°æ®åº“è¿æ¥ä¿¡æ¯--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">"jdbc:mysql://localhost:3306/ssm_mybatis?serverTimezone=Asia/Shanghai"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">"root"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">"10709991"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--java JDBCæ•°æ®ç±»å‹è½¬æ¢ï¼Œå…·ä½“çœ‹https://mybatis.org/generator/configreference/javaTypeResolver.html--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"forceBigDecimals"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é‡ç‚¹ï¼šjavaModelGenerator Beané…ç½®</span></span><br><span class="line"><span class="comment">			targetPackageï¼šè¾“å…¥åŒ…åï¼Œè¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="comment">			targetProjectï¼šè¾“å‡ºé¡¹ç›®ä½ç½®ï¼Œç›¸å¯¹è·¯å¾„ï¼Œä¸éœ€è¦å†™é¡¹ç›®åï¼Œä»srcä¸‹å¼€å§‹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"com.zephxu.bean"</span> <span class="attr">targetProject</span>=<span class="string">"src\main\java"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ˜¯å¦å¼€å¯å­åŒ…åç§°ï¼Œå³æ˜¯å¦åœ¨åŒ…ååè¾¹åŠ schemeåç§°--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"trimStrings"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--åœ¨Setä¸­åŠ å…¥.trim--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--mappper.xmlæ–‡ä»¶é…ç½®--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"com.zephxu.mapper"</span>  <span class="attr">targetProject</span>=<span class="string">"src\main\java"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--targetPackageï¼ŒtargetProjectåŒä¸Š--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--javaæ¥å£é…ç½®--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">"XMLMAPPER"</span> <span class="attr">targetPackage</span>=<span class="string">"com.zephxu.mapper"</span>  <span class="attr">targetProject</span>=<span class="string">"src\main\java"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--æ•°æ®åº“ï¼šæ ¹æ®æ•°æ®åº“ä¸­çš„è¡¨æ¥ç”Ÿæˆ--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--     &lt;table schema="DB2ADMIN" tableName="ALLTYPES" domainObjectName="Customer" &gt;</span></span><br><span class="line"><span class="comment">            &lt;property name="useActualColumnNames" value="true"/&gt;</span></span><br><span class="line"><span class="comment">            &lt;generatedKey column="ID" sqlStatement="DB2" identity="true" /&gt;</span></span><br><span class="line"><span class="comment">            &lt;columnOverride column="DATE_FIELD" property="startDate" /&gt;</span></span><br><span class="line"><span class="comment">            &lt;ignoreColumn column="FRED" /&gt;</span></span><br><span class="line"><span class="comment">            &lt;columnOverride column="LONG_VARCHAR_FIELD" jdbcType="VARCHAR" /&gt;</span></span><br><span class="line"><span class="comment">        &lt;/table&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿‡äºå¤æ‚ï¼Œç®€å•å¦‚ä¸‹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"user"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"country"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ ‡ç­¾ä¸­åœ¨MYSQLä¸­trimç”¨æ³•ï¼š</p>
<ul>
<li><strong>é‡è¦çŸ¥è¯†ç‚¹éƒ½åœ¨ä¸Šé¢xmlæ–‡æ¡£çš„æ³¨é‡Šä¸­ï¼</strong></li>
</ul>
<p>d) å¯¼å…¥ä¾èµ–åŒ…ï¼›</p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Snipaste_2019-09-25_19-12-48_%E4%B8%AD%E5%9B%BD%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4_334ep19xu.png" alt="ä¾èµ–åŒ…"></p>
<ul>
<li><ul>
<li><p>gitä½¿ç”¨å‡ºç°BUGï¼š**error: failed to push some refs toâ€¦â€¦</p>
</li>
<li><p><strong>è§£å†³æ–¹æ³•ï¼šgit pull â€“rebase origin master</strong></p>
<p> <strong>git push -u origin master</strong></p>
</li>
<li><p>è¯¦è§£ï¼š</p>
</li>
</ul>
</li>
</ul>
<p>2ã€ MBGé…ç½®ä»¥åŠæ ¹æ®æ•°æ®åº“è¡¨ç”Ÿæˆæ‰€éœ€æ–‡ä»¶ï¼ˆBeanã€Interfaceã€Mapper.xmlï¼‰ï¼›</p>
<p>3ã€ ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶æ“ä½œæ•°æ®åº“ï¼šæ ¹æ®ç”Ÿæˆçš„Mapperç±»ã€UserExampleç±»ä¸­ç‰¹æœ‰çš„å±æ€§æˆ–æ–¹æ³•å»æ“ä½œæ•°æ®åº“ï¼Œå…·ä½“çœ‹æ–¹æ³•ã€‚</p>
<h2 id="part10ã€Mybatis-Spring-æ•´åˆå¼€å‘"><a href="#part10ã€Mybatis-Spring-æ•´åˆå¼€å‘" class="headerlink" title="part10ã€Mybatis + Spring æ•´åˆå¼€å‘"></a>part10ã€Mybatis + Spring æ•´åˆå¼€å‘</h2><h3 id="1ã€ç›®çš„ï¼š"><a href="#1ã€ç›®çš„ï¼š" class="headerlink" title="1ã€ç›®çš„ï¼š"></a>1ã€ç›®çš„ï¼š</h3><p>a) ä½¿ç”¨Springå®¹å™¨ç”¨å•ä¾‹æ¨¡å¼ç®¡ç†Mybatisçš„sqlSessionFactoryï¼›</p>
<p>b) ä½¿ç”¨Springç®¡ç†è¿æ¥æ± ã€æ•°æ®æºç­‰ï¼›</p>
<p>c) å°†Dao/MapperåŠ¨æ€ä»£ç†å¯¹è±¡æ³¨å…¥åˆ°Springå®¹å™¨ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼›</p>
<h3 id="2ã€-Mybatiså’ŒSpringæ¡†æ¶æ•´åˆï¼›"><a href="#2ã€-Mybatiså’ŒSpringæ¡†æ¶æ•´åˆï¼›" class="headerlink" title="2ã€ Mybatiså’ŒSpringæ¡†æ¶æ•´åˆï¼›"></a>2ã€ Mybatiså’ŒSpringæ¡†æ¶æ•´åˆï¼›</h3><p>a) å¯¼å…¥æ‰€éœ€çš„åŒ…ï¼›</p>
<p>b) åˆ›å»ºMybatisä¸»é…ç½®æ–‡ä»¶sqlMapConfig.xmlï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®åˆ«å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.zephxu.bean"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c) åˆ›å»ºSpringä¸»é…ç½®æ–‡ä»¶applicationContext.xml (ä»¥ä¸‹æ˜¯springæ¡†æ¶xmlçš„å¤´ï¼Œéœ€è¦å¯¼å…¥çº¦æŸ)ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"db.properties"</span>/&gt;</span><span class="comment">&lt;!--è¯»å–é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span><span class="comment">&lt;!--é…ç½®DataSource--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driverClass&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.jdbcUrl&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.user&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>d) é…ç½®C3P0è¿æ¥æ± ï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"db.properties"</span>/&gt;</span><span class="comment">&lt;!--è¯»å–é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span><span class="comment">&lt;!--é…ç½®DataSource--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driverClass&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.jdbcUrl&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.user&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>e) è¯»å–db.propertiesï¼›</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driverClass</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.jdbcUrl</span>=<span class="string">jdbc:mysql://localhost:3306/ssm_spring?serverTimezone=Asia/Shanghai</span></span><br><span class="line"><span class="meta">jdbc.user</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">10709991</span></span><br></pre></td></tr></table></figure>

<p>f) é…ç½®sqlSessionFactoryï¼›</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatis--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å‘ŠçŸ¥Spring MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:sqlMapConfig.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>g) æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">        SqlSessionFactoryBean sqlSessionFactoryBean = ac.getBean(SqlSessionFactoryBean<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">System.out.println(sqlSessionFactoryBean);</span><br></pre></td></tr></table></figure>

<h3 id="3ã€-Daoå¼å¼€å‘ï¼›"><a href="#3ã€-Daoå¼å¼€å‘ï¼›" class="headerlink" title="3ã€ Daoå¼å¼€å‘ï¼›"></a>3ã€ Daoå¼å¼€å‘ï¼›</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- userDao --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDaoImpl"</span> <span class="attr">class</span>=<span class="string">"com.sikiedu.dao.UserDaoImpl"</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- å°†å·¥å‚æ³¨å…¥åˆ°daoçš„çˆ¶ç±» sqlSessionFactory --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactoryBean"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4ã€-MapperåŠ¨æ€ä»£ç†å¼€å‘ï¼›"><a href="#4ã€-MapperåŠ¨æ€ä»£ç†å¼€å‘ï¼›" class="headerlink" title="4ã€ MapperåŠ¨æ€ä»£ç†å¼€å‘ï¼›"></a>4ã€ MapperåŠ¨æ€ä»£ç†å¼€å‘ï¼›</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mapperåŠ¨æ€ä»£ç†å¼€å‘ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userMapper"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperFactoryBean"</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- æ³¨å…¥ sqlSessionFactory --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactoryBean"</span>/&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- é…ç½®æ¥å£ --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperInterface"</span> <span class="attr">value</span>=<span class="string">"com.sikiedu.mapper.UserMapper"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="5ã€-MapperåŠ¨æ€æ‰«æå¼€å‘ï¼šä¸éœ€è¦é…ç½®å¤šä¸ªæ¥å£ï¼›"><a href="#5ã€-MapperåŠ¨æ€æ‰«æå¼€å‘ï¼šä¸éœ€è¦é…ç½®å¤šä¸ªæ¥å£ï¼›" class="headerlink" title="5ã€ MapperåŠ¨æ€æ‰«æå¼€å‘ï¼šä¸éœ€è¦é…ç½®å¤šä¸ªæ¥å£ï¼›"></a>5ã€ MapperåŠ¨æ€æ‰«æå¼€å‘ï¼šä¸éœ€è¦é…ç½®å¤šä¸ªæ¥å£ï¼›</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mapperåŠ¨æ€æ‰«æå¼€å‘ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.sikiedu.mapper"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="part11ã€æœªå®Œå¾…ç»­â€¦â€¦"><a href="#part11ã€æœªå®Œå¾…ç»­â€¦â€¦" class="headerlink" title="part11ã€æœªå®Œå¾…ç»­â€¦â€¦"></a>part11ã€æœªå®Œå¾…ç»­â€¦â€¦</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/MyBatis%E7%AC%94%E8%AE%B0/" data-id="ck5qwpk3x000kxsj248c89iy0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssm/" rel="tag">ssm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-æ‚è®°" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/%E6%9D%82%E8%AE%B0/" class="article-date">
  <time datetime="2020-01-23T15:17:30.000Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/%E6%9D%82%E8%AE%B0/">æ‚è®°</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="æ‚è®°"><a href="#æ‚è®°" class="headerlink" title="æ‚è®° "></a>æ‚è®° </h1><h2 id="â€”â€”-è®°å½•ä¸€äº›æ¾æ•£çš„æ²¡æœ‰ç‰¹åˆ«ç›®çš„æ€§çš„ç¬”è®°"><a href="#â€”â€”-è®°å½•ä¸€äº›æ¾æ•£çš„æ²¡æœ‰ç‰¹åˆ«ç›®çš„æ€§çš„ç¬”è®°" class="headerlink" title="â€”â€” è®°å½•ä¸€äº›æ¾æ•£çš„æ²¡æœ‰ç‰¹åˆ«ç›®çš„æ€§çš„ç¬”è®° "></a>â€”â€” è®°å½•ä¸€äº›æ¾æ•£çš„æ²¡æœ‰ç‰¹åˆ«ç›®çš„æ€§çš„ç¬”è®° </h2><ul>
<li><p><strong>ç«ç‹æŸäº›ç‰¹æ®Šç½‘ç«™ç§‘å­¦ä¸Šç½‘ä»ä¸Šä¸å»ï¼ŒåŸå› æ˜¯æ²¡æœ‰ä½¿ç”¨ç³»ç»Ÿçš„ä»£ç†ã€‚</strong></p>
</li>
<li><p><a href="https://cloudy-liu.github.io/2018/04/07/Hexo_yilia_%E4%B8%BB%E9%A2%98%E4%B8%80%E6%8F%BD%E5%AD%90%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/#%E9%85%8D%E7%BD%AE%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90" target="_blank" rel="noopener">å®Œå–„yiliaä¸»é¢˜ç¬”è®°</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/pangguoming/p/7126512.html" target="_blank" rel="noopener">æ•°æ®åº“å‘½åè§„åˆ™</a></p>
</li>
<li><p><a href="https://www.mmet.cn/article/3769.html" target="_blank" rel="noopener">Firefoxå‡ºç°é—®é¢˜ï¼ŒæŸäº›ç½‘å€æ‰“ä¸å¼€ï¼Œè§£å†³æ–¹æ³•ï¼ˆé“¾æ¥ä¸­userAgentè¿‡æœŸï¼Œçœ‹ä¸‹æ¡é“¾æ¥ï¼‰</a></p>
</li>
<li><p><a href="https://blog.csdn.net/u012195214/article/details/78889602" target="_blank" rel="noopener">æµè§ˆå™¨ User-Agent<br>å¤§å…¨</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_41937388/article/details/89066317" target="_blank" rel="noopener">intellij<br>IDEAå¦‚ä½•è®¾ç½®Mavenè‡ªåŠ¨å¯¼å…¥ä¾èµ–</a></p>
</li>
<li><p><a href="https://joeybling.github.io/2019/05/09/Hexo%E5%8D%9A%E5%AE%A2yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90(%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90)/" target="_blank" rel="noopener">Hexoåšå®¢yiliaä¸»é¢˜æ·»åŠ èƒŒæ™¯éŸ³ä¹<br>ï¼ˆç½‘æ˜“äº‘éŸ³ä¹ï¼‰</a></p>
</li>
<li><p><a href="https://blog.csdn.net/weixin_42478413/article/details/80728482" target="_blank" rel="noopener">IDEA shift<br>shiftå¿«æ·é”®ä¿®æ”¹</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/JohnTsai/p/4027229.html#jump" target="_blank" rel="noopener">é¡µå†…è·³è½¬</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/buyishi/p/10436131.html" target="_blank" rel="noopener">ä½¿ç”¨JavaScriptè·å–æµè§ˆå™¨UserAgent</a></p>
</li>
<li><p><a href="https://blog.csdn.net/m0_38106923/article/details/100130354" target="_blank" rel="noopener">ç¨‹åºå‘˜å®ç”¨å·¥å…·ç½‘ç«™</a></p>
</li>
<li><p><a href="https://www.zhihu.com/question/42909784" target="_blank" rel="noopener">åœ¨markdownçš„tagsä¸­æ·»åŠ å¤šä¸ªæ ‡ç­¾</a></p>
</li>
<li><p><a href="https://www.jianshu.com/p/399e5a3c7cc5" target="_blank" rel="noopener">.mdè¯­æ³•</a></p>
</li>
<li><p><a href="https://blog.csdn.net/Homewm/article/details/83537937" target="_blank" rel="noopener">ç«ç‹å¦‚ä½•è®¿é—®httpç½‘å€</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_39136928/article/details/81240894" target="_blank" rel="noopener">è§£å†³IntelliJ<br>IDEAæ§åˆ¶å°è¾“å‡ºä¸­æ–‡ä¹±ç é—®é¢˜</a></p>
</li>
<li><p><a href="https://blog.csdn.net/zhaoyingjiao/article/details/39965661" target="_blank" rel="noopener">Error running â€˜springmvcâ€™: Address localhost:1099 is already in<br>use</a></p>
</li>
<li><ul>
<li>tomcat binç›®å½•ä¸‹æœ‰shutdown.batåŒå‡»</li>
</ul>
</li>
<li><p><a href="https://www.zhihu.com/question/20125256/answer/324121308" target="_blank" rel="noopener">Lambda<br>è¡¨è¾¾å¼</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qinxu0611/article/details/86146099" target="_blank" rel="noopener">IntelliJ IDEA tomcat<br>çƒ­éƒ¨ç½²</a></p>
</li>
<li><p>bugï¼š</p>
<p>[RMI TCP Connection(2)-127.0.0.1]<br>org.apache.jasper.servlet.TldScanner.scanJarsæˆ–è€…java.lang.ClassNotFoundException:org.springframework.web.filter.CharacterEncodingFilter</p>
</li>
<li><p>åŸå› ï¼š<strong>æ–°å»ºmavené¡¹ç›®ä¸å°å¿ƒæŠŠä¸Šä¸€ä¸ªé¡¹ç›®çš„åå­—å¯¼è¿›å»äº†</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Pom_XmlBugReason.png" alt="reason1"></p>
<p><strong>tomcaté…ç½®ä¸å°å¿ƒç‚¹é”™é»˜è®¤é…ç½®æ—¶deploymentå¤šäº†ä¸Šä¸ªé¡¹ç›®ä¸¤ä¸ªä¸ç›¸å¹²çš„waråŒ…ï¼Œä¸”é»˜è®¤é…ç½®ä¸åº”è¯¥æœ‰waråŒ…ï¼</strong></p>
<p><img src="https://github.com/ZephXu07/IMG/raw/master/Pom_XmlBugReason2.png" alt="reason2"></p>
</li>
<li><p><a href="https://zhidao.baidu.com/question/426938743505703452.html" target="_blank" rel="noopener">å³é”®æ·»åŠ ç”µæºæ§åˆ¶ï¼š</a></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line">;Created by Vishal Gupta for AskVG.com</span><br><span class="line">[HKEY_CLASSES_ROOT\DesktopBackground\Shell\Power Menu]</span><br><span class="line"></span><br><span class="line">&quot;MUIVerb&quot;&#x3D;&quot;ç”µæºæ§åˆ¶&quot;</span><br><span class="line"></span><br><span class="line">&quot;SubCommands&quot;&#x3D;&quot;sleep;hibernate;restart;shutdown&quot;</span><br><span class="line"></span><br><span class="line">&quot;Icon&quot;&#x3D;&quot;shell32.dll,215&quot;</span><br><span class="line"></span><br><span class="line">&quot;Position&quot;&#x3D;&quot;bottom&quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\sleep]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;ç¡çœ &quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\sleep\command]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;rundll32.exe powrprof.dll,SetSuspendState Sleep&quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\hibernate]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;ä¼‘çœ &quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\hibernate\command]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;Shutdown -h&quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\restart]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;é‡å¯&quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\restart\command]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;Shutdown -r -f -t 00&quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\shutdown]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;å…³æœº&quot;</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\shutdown\command]</span><br><span class="line"></span><br><span class="line">@&#x3D;&quot;Shutdown -s -f -t 00&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><a href="https://zhuanlan.zhihu.com/p/28717374?utm_source=wechat_session&utm_medium=social&utm_oi=674565206173290496&s_s_i=L8lr5Ahu2uPbEZ0MlFXxlXPDDWOTRM3plnFlT64neA8%3D&s_r=1" target="_blank" rel="noopener">æˆ‘çš„ç¼–ç ä¹ æƒ¯ -<br>Controllerè§„èŒƒ</a></p>
</li>
<li><p><a href="https://www.bilibili.com/video/av73128937" target="_blank" rel="noopener">ç½‘ç«™éƒ¨ç½²ç»ˆææ“ä½œ:ä¸€è¡Œå‘½ä»¤æå®š</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_31150365/article/details/90447934" target="_blank" rel="noopener">Chrome-æ²¹çŒ´æ’ä»¶åŠå®‰è£…</a></p>
</li>
<li><p><a href="https://blog.csdn.net/zy499055759/article/details/71430282" target="_blank" rel="noopener">windowsé…ç½®ç¯å¢ƒå˜é‡æ— æ•ˆ</a></p>
</li>
<li><p><a href="https://zhidao.baidu.com/question/518879901317371685.html" target="_blank" rel="noopener">Cè¯­è¨€ä¸­mallocç”³è¯·ç©ºé—´æ—¶é•¿åº¦+1ï¼Œ<br>åŸå› æ˜¯è¿”å›ç”³è¯·çš„å†…å­˜çš„é¦–åœ°å€ï¼Œå¦‚p=malloc(len+1)çš„æ„æ€æ˜¯ç”³è¯·len+1ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œå¹¶æŠŠè¿”å›çš„ç”³è¯·åˆ°çš„å†…å­˜é¦–åœ°å€èµ‹ç»™pæŒ‡é’ˆ<br>ã€‚</a></p>
</li>
<li><p><a href="http://mirrors.gdut.edu.cn/" target="_blank" rel="noopener">GDUTå¼€æºé•œåƒç«™</a></p>
</li>
<li><p><a href="https://blog.csdn.net/hbysj/article/details/80499908" target="_blank" rel="noopener">chromeè®¾ç½®æµè§ˆå™¨ç½‘é¡µç¼–ç </a></p>
</li>
<li><p><a href="https://blog.csdn.net/top_code/article/details/50381432" target="_blank" rel="noopener">remote origin already<br>exists.</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/guanghe/p/10429357.html" target="_blank" rel="noopener">SpringMVCä¹±ç é—®é¢˜</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_35425070/article/details/84037179" target="_blank" rel="noopener">IDEAè®¾ç½®æ¢è¡Œç¬¦ä¸ºUnixç¼–ç æ ¼å¼</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/qinxu/p/9258751.html" target="_blank" rel="noopener">idea æ§åˆ¶å°è¡Œæ•°é™åˆ¶</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/happykoukou/p/6655852.html" target="_blank" rel="noopener">ç«¯å£å·èŒƒå›´ï¼ˆè½¬ï¼‰</a></p>
</li>
<li><p><strong>The web application [Atcrowdfundingmain_war_exploded] appears to<br>have started a thread named [mysql-cj-abandoned-connection-cleanup]<br>but has failed to stop it. This is very likely to create a memory<br>leak. Stack trace of thread:</strong></p>
</li>
<li><ul>
<li>ssmé¡¹ç›®å…³é—­TomcatæŠ¥é”™ï¼Œæœç´¢å¾—çŸ¥çš„åŸå› å¤ªå¤æ‚ï¼Œé™å¾…æœ‰ç©ºè§£å†³</li>
</ul>
</li>
<li><p><a href="https://blog.csdn.net/pucao_cug/article/details/68947882" target="_blank" rel="noopener">å®‰è£…ç¨‹åºæ— æ³•ç»§ç»­ã€‚Microsoft<br>RuntimeDLLå®‰è£…ç¨‹åºæœªèƒ½å®Œæˆå®‰è£…</a></p>
</li>
<li><p><a href="https://blog.csdn.net/u012343297/article/details/78743599" target="_blank" rel="noopener">å®‰è£…ç¨‹åºæ— æ³•ç»§ç»­ã€‚Microsoft<br>RuntimeDLLå®‰è£…ç¨‹åºæœªèƒ½å®Œæˆå®‰è£…</a></p>
</li>
<li><p><a href="https://zhidao.baidu.com/question/269196699412875005.html" target="_blank" rel="noopener">NVIDIA Geforce<br>Overlayç¨‹åºæ€ä¹ˆå…³é—­(æ¸¸æˆå†…å…³é—­)</a></p>
</li>
</ul>
<ul>
<li><a href="https://www.jianshu.com/p/1d91c507c1dd" target="_blank" rel="noopener">Hexo è¸©å‘ - ä¸è¦åœ¨æ ‡é¢˜å¼€å¤´ç”¨[å†…å®¹]ã€åœ¨å†…å®¹é‡Œ#ä¸è¦ä¸{ç´§æŒ¨ç€</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/%E6%9D%82%E8%AE%B0/" data-id="ck5qwpk3d0005xsj26p1aet86" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/01/23/hello-world/" class="article-date">
  <time datetime="2020-01-23T09:58:35.279Z" itemprop="datePublished">2020-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/01/23/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/01/23/hello-world/" data-id="ck5qwpk3c0004xsj298x01bs1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm/" rel="tag">ssm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">ç¬”è®°</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/ssm/" style="font-size: 15px;">ssm</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">ç¬”è®°</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/23/Spring-Learning-Notes/">Spring-Learning-Notes</a>
          </li>
        
          <li>
            <a href="/2020/01/23/ssm%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B/">ssmæ¡†æ¶ç®€ä»‹</a>
          </li>
        
          <li>
            <a href="/2020/01/23/maven%E7%AC%94%E8%AE%B0/">mavenç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/01/23/Hugo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">Hugoä»é›¶æ­å»ºåšå®¢</a>
          </li>
        
          <li>
            <a href="/2020/01/23/Hexo%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">Hexoä»é›¶æ­å»ºåšå®¢</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>